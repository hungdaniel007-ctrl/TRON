[1;34mStep 1: Indexando con Filtros de Bloque de CÃ³digo...[0m
[1;32m[OK] Ãndice generado: 1950 tÃ­tulos.[0m
[1;34mStep 2: VerificaciÃ³n Guacamaya (Filtros: -Nivel 1 -Contexto 2 -SoloErrores 0)[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 1           [0m | maestro.md - Contenido de: /home/daniel/Escritorio/OLLAMA-LANGCHAING-AGENTE/SALIDA
[1;32m     1 -> # maestro.md - Contenido de: /home/daniel/Escritorio/OLLAMA-LANGCHAING-AGENTE/SALIDA[0m
[90m     2    [0m
[90m     3    **Extensiones procesadas:** `.md`[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 2           [0m | example 1, simple versioning
[90m  2023    Session = sessionmaker(engine)[0m
[90m  2024    [0m
[1;32m  2025 -> # example 1, simple versioning[0m
[90m  2026    [0m
[90m  2027    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 3           [0m | example 2, versioning with a parent
[90m  2046    )[0m
[90m  2047    [0m
[1;32m  2048 -> # example 2, versioning with a parent[0m
[90m  2049    [0m
[90m  2050    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 4           [0m | this will be the current time as the test runs
[90m  2154    Base = declarative_base()[0m
[90m  2155    [0m
[1;32m  2156 -> # this will be the current time as the test runs[0m
[90m  2157    now = None[0m
[90m  2158    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 5           [0m | in practice this would be a real "now" function
[90m  2158    [0m
[90m  2159    [0m
[1;32m  2160 -> # in practice this would be a real "now" function[0m
[90m  2161    def current_time():[0m
[90m  2162        return now[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 6           [0m | same object
[90m  2357    c2_check = p2_check.child[0m
[90m  2358    [0m
[1;32m  2359 -> # same object[0m
[90m  2360    assert p2_check.child is c1[0m
[90m  2361    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 7           [0m | new data
[90m  2360    assert p2_check.child is c1[0m
[90m  2361    [0m
[1;32m  2362 -> # new data[0m
[90m  2363    assert c1.data == "elvis presley"[0m
[90m  2364    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 8           [0m | new end time
[90m  2363    assert c1.data == "elvis presley"[0m
[90m  2364    [0m
[1;32m  2365 -> # new end time[0m
[90m  2366    assert c1.end == now + datetime.timedelta(days=2)[0m
[90m  2367    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 9           [0m | add some more rows to test that these aren't coming back for
[90m  2403    ][0m
[90m  2404    [0m
[1;32m  2405 -> # add some more rows to test that these aren't coming back for[0m
[90m  2406    # queries[0m
[90m  2407    s.add(Parent(id=2, data="unrelated", child=Child(id=2, data="unrelated")))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 10          [0m | queries
[90m  2404    [0m
[90m  2405    # add some more rows to test that these aren't coming back for[0m
[1;32m  2406 -> # queries[0m
[90m  2407    s.add(Parent(id=2, data="unrelated", child=Child(id=2, data="unrelated")))[0m
[90m  2408    s.commit()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 11          [0m | Query only knows about one parent for id=1
[90m  2409    [0m
[90m  2410    [0m
[1;32m  2411 -> # Query only knows about one parent for id=1[0m
[90m  2412    p3_check = s.query(Parent).filter_by(id=1).one()[0m
[90m  2413    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 12          [0m | and one child.
[90m  2415    assert p3_check.child is c1[0m
[90m  2416    [0m
[1;32m  2417 -> # and one child.[0m
[90m  2418    c3_check = s.query(Child).filter(Child.parent == p3_check).one()[0m
[90m  2419    assert c3_check is c1[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 13          [0m | one child one parent....
[90m  2419    assert c3_check is c1[0m
[90m  2420    [0m
[1;32m  2421 -> # one child one parent....[0m
[90m  2422    c3_check = ([0m
[90m  2423        s.query(Child).join(Parent.child).filter(Parent.id == p3_check.id).one()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 14          [0m | example 1, simple versioning
[90m  2881    Session = sessionmaker(engine)[0m
[90m  2882    [0m
[1;32m  2883 -> # example 1, simple versioning[0m
[90m  2884    [0m
[90m  2885    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 15          [0m | example 2, versioning with a parent
[90m  2909    )[0m
[90m  2910    [0m
[1;32m  2911 -> # example 2, versioning with a parent[0m
[90m  2912    [0m
[90m  2913    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 16          [0m | columns that are local to subclasses must be nullable.
[90m  5242    str50 = Annotated[str, mapped_column(String(50))][0m
[90m  5243    [0m
[1;32m  5244 -> # columns that are local to subclasses must be nullable.[0m
[90m  5245    # we can still use a non-optional type, however[0m
[90m  5246    str50subclass = Annotated[str, mapped_column(String(50), nullable=True)][0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 17          [0m | we can still use a non-optional type, however
[90m  5243    [0m
[90m  5244    # columns that are local to subclasses must be nullable.[0m
[1;32m  5245 -> # we can still use a non-optional type, however[0m
[90m  5246    str50subclass = Annotated[str, mapped_column(String(50), nullable=True)][0m
[90m  5247    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 18          [0m | this will autoflush the current map.
[90m  5516    p1.child_map["k2"] = Child(key="k2")[0m
[90m  5517    [0m
[1;32m  5518 -> # this will autoflush the current map.[0m
[90m  5519    # ['k1', 'k2'][0m
[90m  5520    print("\n---------print keys - flushes first\n")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 19          [0m | loading them again, no SQL is emitted
[90m  5886    print(", ".join([p.name for p in load_name_range(25, 40)]))[0m
[90m  5887    [0m
[1;32m  5888 -> # loading them again, no SQL is emitted[0m
[90m  5889    print("\ntwo through twelve, from the cache:\n")[0m
[90m  5890    print(", ".join([p.name for p in load_name_range(2, 12)]))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 20          [0m | but with invalidate, they are
[90m  5890    print(", ".join([p.name for p in load_name_range(2, 12)]))[0m
[90m  5891    [0m
[1;32m  5892 -> # but with invalidate, they are[0m
[90m  5893    print("\ntwenty five through forty, invalidate first:\n")[0m
[90m  5894    print(", ".join([p.name for p in load_name_range(25, 40, True)]))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 21          [0m | on the Person
[90m  5895    [0m
[90m  5896    # illustrate the address loading from either cache/already[0m
[1;32m  5897 -> # on the Person[0m
[90m  5898    print([0m
[90m  5899        "\n\nPeople plus addresses, two through twelve, addresses "[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 22          [0m | on the Person
[90m  5904    [0m
[90m  5905    # illustrate the address loading from either cache/already[0m
[1;32m  5906 -> # on the Person[0m
[90m  5907    print("\n\nPeople plus addresses, two through twelve, addresses from cache")[0m
[90m  5908    for p in load_name_range(2, 12):[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 23          [0m | load Person objects.  cache the result in the "default" cache region
[90m  5958    [0m
[90m  5959    [0m
[1;32m  5960 -> # load Person objects.  cache the result in the "default" cache region[0m
[90m  5961    print("loading people....")[0m
[90m  5962    people = Session.scalars(select(Person).options(FromCache("default"))).all()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 24          [0m | load again, using the same FromCache option. now they're cached,
[90m  5965    Session.remove()[0m
[90m  5966    [0m
[1;32m  5967 -> # load again, using the same FromCache option. now they're cached,[0m
[90m  5968    # so no SQL is emitted.[0m
[90m  5969    print("loading people....again!")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 25          [0m | so no SQL is emitted.
[90m  5966    [0m
[90m  5967    # load again, using the same FromCache option. now they're cached,[0m
[1;32m  5968 -> # so no SQL is emitted.[0m
[90m  5969    print("loading people....again!")[0m
[90m  5970    people = Session.scalars(select(Person).options(FromCache("default"))).all()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 26          [0m | Specifying a different query produces a different cache key, so
[90m  5970    people = Session.scalars(select(Person).options(FromCache("default"))).all()[0m
[90m  5971    [0m
[1;32m  5972 -> # Specifying a different query produces a different cache key, so[0m
[90m  5973    # these results are independently cached.[0m
[90m  5974    print("loading people two through twelve")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 27          [0m | these results are independently cached.
[90m  5971    [0m
[90m  5972    # Specifying a different query produces a different cache key, so[0m
[1;32m  5973 -> # these results are independently cached.[0m
[90m  5974    print("loading people two through twelve")[0m
[90m  5975    people_two_through_twelve = Session.scalars([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 28          [0m | the data is cached under string structure of the SQL statement, *plus*
[90m  5979    ).all()[0m
[90m  5980    [0m
[1;32m  5981 -> # the data is cached under string structure of the SQL statement, *plus*[0m
[90m  5982    # the bind parameters of the query.    So this query, having[0m
[90m  5983    # different literal parameters under "Person.name.between()" than the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 29          [0m | the bind parameters of the query.    So this query, having
[90m  5980    [0m
[90m  5981    # the data is cached under string structure of the SQL statement, *plus*[0m
[1;32m  5982 -> # the bind parameters of the query.    So this query, having[0m
[90m  5983    # different literal parameters under "Person.name.between()" than the[0m
[90m  5984    # previous one, issues new SQL...[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 30          [0m | previous one, issues new SQL...
[90m  5982    # the bind parameters of the query.    So this query, having[0m
[90m  5983    # different literal parameters under "Person.name.between()" than the[0m
[1;32m  5984 -> # previous one, issues new SQL...[0m
[90m  5985    print("loading people five through fifteen")[0m
[90m  5986    people_five_through_fifteen = Session.scalars([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 31          [0m | ... but using the same params as are already cached, no SQL
[90m  5991    [0m
[90m  5992    [0m
[1;32m  5993 -> # ... but using the same params as are already cached, no SQL[0m
[90m  5994    print("loading people two through twelve...again!")[0m
[90m  5995    people_two_through_twelve = Session.scalars([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 32          [0m | invalidate the cache for the three queries we've done.  Recreate
[90m  6000    [0m
[90m  6001    [0m
[1;32m  6002 -> # invalidate the cache for the three queries we've done.  Recreate[0m
[90m  6003    # each Query, which includes at the very least the same FromCache,[0m
[90m  6004    # same list of objects to be loaded, and the same parameters in the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 33          [0m | each Query, which includes at the very least the same FromCache,
[90m  6001    [0m
[90m  6002    # invalidate the cache for the three queries we've done.  Recreate[0m
[1;32m  6003 -> # each Query, which includes at the very least the same FromCache,[0m
[90m  6004    # same list of objects to be loaded, and the same parameters in the[0m
[90m  6005    # same order, then call invalidate().[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 34          [0m | same list of objects to be loaded, and the same parameters in the
[90m  6002    # invalidate the cache for the three queries we've done.  Recreate[0m
[90m  6003    # each Query, which includes at the very least the same FromCache,[0m
[1;32m  6004 -> # same list of objects to be loaded, and the same parameters in the[0m
[90m  6005    # same order, then call invalidate().[0m
[90m  6006    print("invalidating everything")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 35          [0m | dogpile cache regions.  A home base for cache configurations.
[90m  6215    [0m
[90m  6216    [0m
[1;32m  6217 -> # dogpile cache regions.  A home base for cache configurations.[0m
[90m  6218    regions = {}[0m
[90m  6219    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 36          [0m | scoped_session.
[90m  6218    regions = {}[0m
[90m  6219    [0m
[1;32m  6220 -> # scoped_session.[0m
[90m  6221    Session = scoped_session(sessionmaker())[0m
[90m  6222    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 37          [0m | global declarative base class.
[90m  6224    cache.listen_on_session(Session)[0m
[90m  6225    [0m
[1;32m  6226 -> # global declarative base class.[0m
[90m  6227    Base = declarative_base()[0m
[90m  6228    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 38          [0m | configure the "default" cache region.
[90m  6250    [0m
[90m  6251    [0m
[1;32m  6252 -> # configure the "default" cache region.[0m
[90m  6253    regions["default"] = make_region([0m
[90m  6254        # the "dbm" backend needs[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 39          [0m | once created so that all data is fresh when
[90m  6266    [0m
[90m  6267    # optional; call invalidate() on the region[0m
[1;32m  6268 -> # once created so that all data is fresh when[0m
[90m  6269    # the app is restarted.  Good for development,[0m
[90m  6270    # on a production system needs to be used carefully[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 40          [0m | the app is restarted.  Good for development,
[90m  6267    # optional; call invalidate() on the region[0m
[90m  6268    # once created so that all data is fresh when[0m
[1;32m  6269 -> # the app is restarted.  Good for development,[0m
[90m  6270    # on a production system needs to be used carefully[0m
[90m  6271    # regions['default'].invalidate()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 41          [0m | on a production system needs to be used carefully
[90m  6268    # once created so that all data is fresh when[0m
[90m  6269    # the app is restarted.  Good for development,[0m
[1;32m  6270 -> # on a production system needs to be used carefully[0m
[90m  6271    # regions['default'].invalidate()[0m
[90m  6272    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 42          [0m | Caching options.   A set of three RelationshipCache options
[90m  6526    [0m
[90m  6527    [0m
[1;32m  6528 -> # Caching options.   A set of three RelationshipCache options[0m
[90m  6529    # which can be applied to Query(), causing the "lazy load"[0m
[90m  6530    # of these attributes to be loaded from cache.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 43          [0m | create session function.  this binds the shard ids
[90m  7345    [0m
[90m  7346    [0m
[1;32m  7347 -> # create session function.  this binds the shard ids[0m
[90m  7348    # to databases within a ShardedSession and returns it.[0m
[90m  7349    Session = sessionmaker([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 44          [0m | to databases within a ShardedSession and returns it.
[90m  7346    [0m
[90m  7347    # create session function.  this binds the shard ids[0m
[1;32m  7348 -> # to databases within a ShardedSession and returns it.[0m
[90m  7349    Session = sessionmaker([0m
[90m  7350        class_=ShardedSession,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 45          [0m | mappings and tables
[90m  7358    [0m
[90m  7359    [0m
[1;32m  7360 -> # mappings and tables[0m
[90m  7361    class Base(DeclarativeBase):[0m
[90m  7362        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 46          [0m | table setup.  we'll store a lead table of continents/cities, and a secondary
[90m  7363    [0m
[90m  7364    [0m
[1;32m  7365 -> # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  7366    # table storing locations. a particular row will be placed in the database[0m
[90m  7367    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 47          [0m | table storing locations. a particular row will be placed in the database
[90m  7364    [0m
[90m  7365    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[1;32m  7366 -> # table storing locations. a particular row will be placed in the database[0m
[90m  7367    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7368    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 48          [0m | whose shard id corresponds to the 'continent'.  in this setup, secondary rows
[90m  7365    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  7366    # table storing locations. a particular row will be placed in the database[0m
[1;32m  7367 -> # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7368    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7369    # this can be changed if you're willing to write more complex sharding[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 49          [0m | in 'weather_reports' will be placed in the same DB as that of the parent, but
[90m  7366    # table storing locations. a particular row will be placed in the database[0m
[90m  7367    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;32m  7368 -> # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7369    # this can be changed if you're willing to write more complex sharding[0m
[90m  7370    # functions.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 50          [0m | this can be changed if you're willing to write more complex sharding
[90m  7367    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7368    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;32m  7369 -> # this can be changed if you're willing to write more complex sharding[0m
[90m  7370    # functions.[0m
[90m  7371    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 51          [0m | functions.
[90m  7368    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7369    # this can be changed if you're willing to write more complex sharding[0m
[1;32m  7370 -> # functions.[0m
[90m  7371    [0m
[90m  7372    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 52          [0m | define sharding functions.
[90m  7403    [0m
[90m  7404    [0m
[1;32m  7405 -> # define sharding functions.[0m
[90m  7406    [0m
[90m  7407    # we'll use a straight mapping of a particular set of "country"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 53          [0m | we'll use a straight mapping of a particular set of "country"
[90m  7405    # define sharding functions.[0m
[90m  7406    [0m
[1;32m  7407 -> # we'll use a straight mapping of a particular set of "country"[0m
[90m  7408    # attributes to shard id.[0m
[90m  7409    shard_lookup = {[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 54          [0m | attributes to shard id.
[90m  7406    [0m
[90m  7407    # we'll use a straight mapping of a particular set of "country"[0m
[1;32m  7408 -> # attributes to shard id.[0m
[90m  7409    shard_lookup = {[0m
[90m  7410        "North America": "north_america",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 55          [0m | configure shard chooser
[90m  7463    [0m
[90m  7464    [0m
[1;32m  7465 -> # configure shard chooser[0m
[90m  7466    Session.configure([0m
[90m  7467        shard_chooser=shard_chooser,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 56          [0m | for asyncio, the ShardedSession class is passed
[90m  7634    [0m
[90m  7635    [0m
[1;32m  7636 -> # for asyncio, the ShardedSession class is passed[0m
[90m  7637    # via sync_session_class.  The shards themselves are used within[0m
[90m  7638    # implicit-awaited internals, so we use the sync_engine Engine objects[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 57          [0m | via sync_session_class.  The shards themselves are used within
[90m  7635    [0m
[90m  7636    # for asyncio, the ShardedSession class is passed[0m
[1;32m  7637 -> # via sync_session_class.  The shards themselves are used within[0m
[90m  7638    # implicit-awaited internals, so we use the sync_engine Engine objects[0m
[90m  7639    # in the shards dictionary.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 58          [0m | implicit-awaited internals, so we use the sync_engine Engine objects
[90m  7636    # for asyncio, the ShardedSession class is passed[0m
[90m  7637    # via sync_session_class.  The shards themselves are used within[0m
[1;32m  7638 -> # implicit-awaited internals, so we use the sync_engine Engine objects[0m
[90m  7639    # in the shards dictionary.[0m
[90m  7640    Session = async_sessionmaker([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 59          [0m | in the shards dictionary.
[90m  7637    # via sync_session_class.  The shards themselves are used within[0m
[90m  7638    # implicit-awaited internals, so we use the sync_engine Engine objects[0m
[1;32m  7639 -> # in the shards dictionary.[0m
[90m  7640    Session = async_sessionmaker([0m
[90m  7641        sync_session_class=ShardedSession,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 60          [0m | mappings and tables
[90m  7650    [0m
[90m  7651    [0m
[1;32m  7652 -> # mappings and tables[0m
[90m  7653    class Base(DeclarativeBase):[0m
[90m  7654        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 61          [0m | we need a way to create identifiers which are unique across all databases.
[90m  7655    [0m
[90m  7656    [0m
[1;32m  7657 -> # we need a way to create identifiers which are unique across all databases.[0m
[90m  7658    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  7659    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 62          [0m | one easy way would be to just use a composite primary key, where  one value
[90m  7656    [0m
[90m  7657    # we need a way to create identifiers which are unique across all databases.[0m
[1;32m  7658 -> # one easy way would be to just use a composite primary key, where  one value[0m
[90m  7659    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  7660    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 63          [0m | is the shard id.  but here, we'll show something more "generic", an id
[90m  7657    # we need a way to create identifiers which are unique across all databases.[0m
[90m  7658    # one easy way would be to just use a composite primary key, where  one value[0m
[1;32m  7659 -> # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  7660    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  7661    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 64          [0m | generation function.  we'll use a simplistic "id table" stored in database
[90m  7658    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  7659    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;32m  7660 -> # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  7661    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  7662    # etc.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 65          [0m | #1.  Any other method will do just as well; UUID, hilo, application-specific,
[90m  7659    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  7660    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;32m  7661 -> # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  7662    # etc.[0m
[90m  7663    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 66          [0m | etc.
[90m  7660    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  7661    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;32m  7662 -> # etc.[0m
[90m  7663    [0m
[90m  7664    ids = Table("ids", Base.metadata, Column("nextid", Integer, nullable=False))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 67          [0m | table setup.  we'll store a lead table of continents/cities, and a secondary
[90m  7675    [0m
[90m  7676    [0m
[1;32m  7677 -> # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  7678    # table storing locations. a particular row will be placed in the database[0m
[90m  7679    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 68          [0m | table storing locations. a particular row will be placed in the database
[90m  7676    [0m
[90m  7677    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[1;32m  7678 -> # table storing locations. a particular row will be placed in the database[0m
[90m  7679    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7680    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 69          [0m | whose shard id corresponds to the 'continent'.  in this setup, secondary rows
[90m  7677    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  7678    # table storing locations. a particular row will be placed in the database[0m
[1;32m  7679 -> # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7680    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7681    # this can be changed if you're willing to write more complex sharding[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 70          [0m | in 'weather_reports' will be placed in the same DB as that of the parent, but
[90m  7678    # table storing locations. a particular row will be placed in the database[0m
[90m  7679    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;32m  7680 -> # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7681    # this can be changed if you're willing to write more complex sharding[0m
[90m  7682    # functions.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 71          [0m | this can be changed if you're willing to write more complex sharding
[90m  7679    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  7680    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;32m  7681 -> # this can be changed if you're willing to write more complex sharding[0m
[90m  7682    # functions.[0m
[90m  7683    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 72          [0m | functions.
[90m  7680    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  7681    # this can be changed if you're willing to write more complex sharding[0m
[1;32m  7682 -> # functions.[0m
[90m  7683    [0m
[90m  7684    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 73          [0m | step 5. define sharding functions.
[90m  7715    [0m
[90m  7716    [0m
[1;32m  7717 -> # step 5. define sharding functions.[0m
[90m  7718    [0m
[90m  7719    # we'll use a straight mapping of a particular set of "country"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 74          [0m | we'll use a straight mapping of a particular set of "country"
[90m  7717    # step 5. define sharding functions.[0m
[90m  7718    [0m
[1;32m  7719 -> # we'll use a straight mapping of a particular set of "country"[0m
[90m  7720    # attributes to shard id.[0m
[90m  7721    shard_lookup = {[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 75          [0m | attributes to shard id.
[90m  7718    [0m
[90m  7719    # we'll use a straight mapping of a particular set of "country"[0m
[1;32m  7720 -> # attributes to shard id.[0m
[90m  7721    shard_lookup = {[0m
[90m  7722        "North America": "north_america",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 76          [0m | further configure create_session to use these functions
[90m  7841    [0m
[90m  7842    [0m
[1;32m  7843 -> # further configure create_session to use these functions[0m
[90m  7844    Session.configure([0m
[90m  7845        shard_chooser=shard_chooser,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 77          [0m | create session function.  this binds the shard ids
[90m  8023    [0m
[90m  8024    [0m
[1;32m  8025 -> # create session function.  this binds the shard ids[0m
[90m  8026    # to databases within a ShardedSession and returns it.[0m
[90m  8027    Session = sessionmaker([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 78          [0m | to databases within a ShardedSession and returns it.
[90m  8024    [0m
[90m  8025    # create session function.  this binds the shard ids[0m
[1;32m  8026 -> # to databases within a ShardedSession and returns it.[0m
[90m  8027    Session = sessionmaker([0m
[90m  8028        class_=ShardedSession,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 79          [0m | mappings and tables
[90m  8036    [0m
[90m  8037    [0m
[1;32m  8038 -> # mappings and tables[0m
[90m  8039    class Base(DeclarativeBase):[0m
[90m  8040        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 80          [0m | we need a way to create identifiers which are unique across all databases.
[90m  8041    [0m
[90m  8042    [0m
[1;32m  8043 -> # we need a way to create identifiers which are unique across all databases.[0m
[90m  8044    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8045    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 81          [0m | one easy way would be to just use a composite primary key, where  one value
[90m  8042    [0m
[90m  8043    # we need a way to create identifiers which are unique across all databases.[0m
[1;32m  8044 -> # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8045    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8046    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 82          [0m | is the shard id.  but here, we'll show something more "generic", an id
[90m  8043    # we need a way to create identifiers which are unique across all databases.[0m
[90m  8044    # one easy way would be to just use a composite primary key, where  one value[0m
[1;32m  8045 -> # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8046    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8047    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 83          [0m | generation function.  we'll use a simplistic "id table" stored in database
[90m  8044    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8045    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;32m  8046 -> # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8047    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  8048    # etc.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 84          [0m | #1.  Any other method will do just as well; UUID, hilo, application-specific,
[90m  8045    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8046    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;32m  8047 -> # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  8048    # etc.[0m
[90m  8049    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 85          [0m | etc.
[90m  8046    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8047    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;32m  8048 -> # etc.[0m
[90m  8049    [0m
[90m  8050    ids = Table("ids", Base.metadata, Column("nextid", Integer, nullable=False))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 86          [0m | table setup.  we'll store a lead table of continents/cities, and a secondary
[90m  8059    [0m
[90m  8060    [0m
[1;32m  8061 -> # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  8062    # table storing locations. a particular row will be placed in the database[0m
[90m  8063    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 87          [0m | table storing locations. a particular row will be placed in the database
[90m  8060    [0m
[90m  8061    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[1;32m  8062 -> # table storing locations. a particular row will be placed in the database[0m
[90m  8063    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8064    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 88          [0m | whose shard id corresponds to the 'continent'.  in this setup, secondary rows
[90m  8061    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  8062    # table storing locations. a particular row will be placed in the database[0m
[1;32m  8063 -> # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8064    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8065    # this can be changed if you're willing to write more complex sharding[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 89          [0m | in 'weather_reports' will be placed in the same DB as that of the parent, but
[90m  8062    # table storing locations. a particular row will be placed in the database[0m
[90m  8063    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;32m  8064 -> # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8065    # this can be changed if you're willing to write more complex sharding[0m
[90m  8066    # functions.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 90          [0m | this can be changed if you're willing to write more complex sharding
[90m  8063    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8064    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;32m  8065 -> # this can be changed if you're willing to write more complex sharding[0m
[90m  8066    # functions.[0m
[90m  8067    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 91          [0m | functions.
[90m  8064    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8065    # this can be changed if you're willing to write more complex sharding[0m
[1;32m  8066 -> # functions.[0m
[90m  8067    [0m
[90m  8068    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 92          [0m | define sharding functions.
[90m  8099    [0m
[90m  8100    [0m
[1;32m  8101 -> # define sharding functions.[0m
[90m  8102    [0m
[90m  8103    # we'll use a straight mapping of a particular set of "country"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 93          [0m | we'll use a straight mapping of a particular set of "country"
[90m  8101    # define sharding functions.[0m
[90m  8102    [0m
[1;32m  8103 -> # we'll use a straight mapping of a particular set of "country"[0m
[90m  8104    # attributes to shard id.[0m
[90m  8105    shard_lookup = {[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 94          [0m | attributes to shard id.
[90m  8102    [0m
[90m  8103    # we'll use a straight mapping of a particular set of "country"[0m
[1;32m  8104 -> # attributes to shard id.[0m
[90m  8105    shard_lookup = {[0m
[90m  8106        "North America": "north_america",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 95          [0m | further configure create_session to use these functions
[90m  8225    [0m
[90m  8226    [0m
[1;32m  8227 -> # further configure create_session to use these functions[0m
[90m  8228    Session.configure([0m
[90m  8229        shard_chooser=shard_chooser,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 96          [0m | create session function.  this binds the shard ids
[90m  8384    [0m
[90m  8385    [0m
[1;32m  8386 -> # create session function.  this binds the shard ids[0m
[90m  8387    # to databases within a ShardedSession and returns it.[0m
[90m  8388    Session = sessionmaker([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 97          [0m | to databases within a ShardedSession and returns it.
[90m  8385    [0m
[90m  8386    # create session function.  this binds the shard ids[0m
[1;32m  8387 -> # to databases within a ShardedSession and returns it.[0m
[90m  8388    Session = sessionmaker([0m
[90m  8389        class_=ShardedSession,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 98          [0m | mappings and tables
[90m  8397    [0m
[90m  8398    [0m
[1;32m  8399 -> # mappings and tables[0m
[90m  8400    class Base(DeclarativeBase):[0m
[90m  8401        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 99          [0m | we need a way to create identifiers which are unique across all databases.
[90m  8402    [0m
[90m  8403    [0m
[1;32m  8404 -> # we need a way to create identifiers which are unique across all databases.[0m
[90m  8405    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8406    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 100         [0m | one easy way would be to just use a composite primary key, where  one value
[90m  8403    [0m
[90m  8404    # we need a way to create identifiers which are unique across all databases.[0m
[1;32m  8405 -> # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8406    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8407    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 101         [0m | is the shard id.  but here, we'll show something more "generic", an id
[90m  8404    # we need a way to create identifiers which are unique across all databases.[0m
[90m  8405    # one easy way would be to just use a composite primary key, where  one value[0m
[1;32m  8406 -> # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8407    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8408    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 102         [0m | generation function.  we'll use a simplistic "id table" stored in database
[90m  8405    # one easy way would be to just use a composite primary key, where  one value[0m
[90m  8406    # is the shard id.  but here, we'll show something more "generic", an id[0m
[1;32m  8407 -> # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8408    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  8409    # etc.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 103         [0m | #1.  Any other method will do just as well; UUID, hilo, application-specific,
[90m  8406    # is the shard id.  but here, we'll show something more "generic", an id[0m
[90m  8407    # generation function.  we'll use a simplistic "id table" stored in database[0m
[1;32m  8408 -> # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[90m  8409    # etc.[0m
[90m  8410    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 104         [0m | etc.
[90m  8407    # generation function.  we'll use a simplistic "id table" stored in database[0m
[90m  8408    # #1.  Any other method will do just as well; UUID, hilo, application-specific,[0m
[1;32m  8409 -> # etc.[0m
[90m  8410    [0m
[90m  8411    ids = Table("ids", Base.metadata, Column("nextid", Integer, nullable=False))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 105         [0m | table setup.  we'll store a lead table of continents/cities, and a secondary
[90m  8420    [0m
[90m  8421    [0m
[1;32m  8422 -> # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  8423    # table storing locations. a particular row will be placed in the database[0m
[90m  8424    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 106         [0m | table storing locations. a particular row will be placed in the database
[90m  8421    [0m
[90m  8422    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[1;32m  8423 -> # table storing locations. a particular row will be placed in the database[0m
[90m  8424    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8425    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 107         [0m | whose shard id corresponds to the 'continent'.  in this setup, secondary rows
[90m  8422    # table setup.  we'll store a lead table of continents/cities, and a secondary[0m
[90m  8423    # table storing locations. a particular row will be placed in the database[0m
[1;32m  8424 -> # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8425    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8426    # this can be changed if you're willing to write more complex sharding[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 108         [0m | in 'weather_reports' will be placed in the same DB as that of the parent, but
[90m  8423    # table storing locations. a particular row will be placed in the database[0m
[90m  8424    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[1;32m  8425 -> # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8426    # this can be changed if you're willing to write more complex sharding[0m
[90m  8427    # functions.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 109         [0m | this can be changed if you're willing to write more complex sharding
[90m  8424    # whose shard id corresponds to the 'continent'.  in this setup, secondary rows[0m
[90m  8425    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[1;32m  8426 -> # this can be changed if you're willing to write more complex sharding[0m
[90m  8427    # functions.[0m
[90m  8428    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 110         [0m | functions.
[90m  8425    # in 'weather_reports' will be placed in the same DB as that of the parent, but[0m
[90m  8426    # this can be changed if you're willing to write more complex sharding[0m
[1;32m  8427 -> # functions.[0m
[90m  8428    [0m
[90m  8429    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 111         [0m | define sharding functions.
[90m  8460    [0m
[90m  8461    [0m
[1;32m  8462 -> # define sharding functions.[0m
[90m  8463    [0m
[90m  8464    # we'll use a straight mapping of a particular set of "country"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 112         [0m | we'll use a straight mapping of a particular set of "country"
[90m  8462    # define sharding functions.[0m
[90m  8463    [0m
[1;32m  8464 -> # we'll use a straight mapping of a particular set of "country"[0m
[90m  8465    # attributes to shard id.[0m
[90m  8466    shard_lookup = {[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 113         [0m | attributes to shard id.
[90m  8463    [0m
[90m  8464    # we'll use a straight mapping of a particular set of "country"[0m
[1;32m  8465 -> # attributes to shard id.[0m
[90m  8466    shard_lookup = {[0m
[90m  8467        "North America": "north_america",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 114         [0m | further configure create_session to use these functions
[90m  8586    [0m
[90m  8587    [0m
[1;32m  8588 -> # further configure create_session to use these functions[0m
[90m  8589    Session.configure([0m
[90m  8590        shard_chooser=shard_chooser,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 115         [0m | create a directed graph like this:
[90m 10391    session = sessionmaker(engine)()[0m
[90m 10392    [0m
[1;32m 10393 -> # create a directed graph like this:[0m
[90m 10394    #       n1 -> n2 -> n1[0m
[90m 10395    #                -> n5[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 116         [0m | n1 -> n2 -> n1
[90m 10392    [0m
[90m 10393    # create a directed graph like this:[0m
[1;32m 10394 -> #       n1 -> n2 -> n1[0m
[90m 10395    #                -> n5[0m
[90m 10396    #                -> n7[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 117         [0m | -> n5
[90m 10393    # create a directed graph like this:[0m
[90m 10394    #       n1 -> n2 -> n1[0m
[1;32m 10395 -> #                -> n5[0m
[90m 10396    #                -> n7[0m
[90m 10397    #          -> n3 -> n6[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 118         [0m | -> n7
[90m 10394    #       n1 -> n2 -> n1[0m
[90m 10395    #                -> n5[0m
[1;32m 10396 -> #                -> n7[0m
[90m 10397    #          -> n3 -> n6[0m
[90m 10398    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 119         [0m | -> n3 -> n6
[90m 10395    #                -> n5[0m
[90m 10396    #                -> n7[0m
[1;32m 10397 -> #          -> n3 -> n6[0m
[90m 10398    [0m
[90m 10399    n1 = Node()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 120         [0m | the order of "add" is important here.  elements must be added in
[90m 10554    fred.parent = chuck[0m
[90m 10555    [0m
[1;32m 10556 -> # the order of "add" is important here.  elements must be added in[0m
[90m 10557    # the order in which they should be INSERTed.[0m
[90m 10558    session.add_all([albert, bert, chuck, donna, eddie, fred])[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 121         [0m | the order in which they should be INSERTed.
[90m 10555    [0m
[90m 10556    # the order of "add" is important here.  elements must be added in[0m
[1;32m 10557 -> # the order in which they should be INSERTed.[0m
[90m 10558    session.add_all([albert, bert, chuck, donna, eddie, fred])[0m
[90m 10559    session.commit()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 122         [0m | 1. Find an employee and all their supervisors, no matter how deep the tree.
[90m 10561    print(session.query(Employee).all())[0m
[90m 10562    [0m
[1;32m 10563 -> # 1. Find an employee and all their supervisors, no matter how deep the tree.[0m
[90m 10564    ealias = aliased(Employee)[0m
[90m 10565    print([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 123         [0m | 2. Find the employee and all their subordinates.
[90m 10570    )[0m
[90m 10571    [0m
[1;32m 10572 -> # 2. Find the employee and all their subordinates.[0m
[90m 10573    # (This query has a nice symmetry with the first query.)[0m
[90m 10574    print([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 124         [0m | 3. Find the level of each node, so you can print the tree
[90m 10579    )[0m
[90m 10580    [0m
[1;32m 10581 -> # 3. Find the level of each node, so you can print the tree[0m
[90m 10582    # as an indented listing.[0m
[90m 10583    for indentation, employee in ([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 125         [0m | as an indented listing.
[90m 10580    [0m
[90m 10581    # 3. Find the level of each node, so you can print the tree[0m
[1;32m 10582 -> # as an indented listing.[0m
[90m 10583    for indentation, employee in ([0m
[90m 10584        session.query(func.count(Employee.emp).label("indentation") - 1, ealias)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 126         [0m | PyMySQL
[90m 12159    )[0m
[90m 12160    [0m
[1;32m 12161 -> # PyMySQL[0m
[90m 12162    engine = create_engine([0m
[90m 12163        "mysql+pymysql://scott:tiger@localhost/test?charset=utf8mb4&binary_prefix=true"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 127         [0m | `insert=True` will ensure this is the very first listener to run
[90m 12206    [0m
[90m 12207    [0m
[1;32m 12208 -> # `insert=True` will ensure this is the very first listener to run[0m
[90m 12209    @event.listens_for(eng, "connect", insert=True)[0m
[90m 12210    def connect(dbapi_connection, connection_record):[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 128         [0m | DELETE..RETURNING
[90m 12303    print(result.all())[0m
[90m 12304    [0m
[1;32m 12305 -> # DELETE..RETURNING[0m
[90m 12306    result = connection.execute([0m
[90m 12307        table.delete()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 129         [0m | UPDATE..RETURNING
[90m 15314    print(result.fetchall())[0m
[90m 15315    [0m
[1;32m 15316 -> # UPDATE..RETURNING[0m
[90m 15317    result = ([0m
[90m 15318        table.update()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 130         [0m | DELETE..RETURNING
[90m 15323    print(result.fetchall())[0m
[90m 15324    [0m
[1;32m 15325 -> # DELETE..RETURNING[0m
[90m 15326    result = ([0m
[90m 15327        table.delete()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 131         [0m | UPDATE ONLY ...
[90m 15727    print(result.fetchall())[0m
[90m 15728    [0m
[1;32m 15729 -> # UPDATE ONLY ...[0m
[90m 15730    table.update(values=dict(foo="bar")).with_hint([0m
[90m 15731        "ONLY", dialect_name="postgresql"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 132         [0m | DELETE FROM ONLY ...
[90m 15732    )[0m
[90m 15733    [0m
[1;32m 15734 -> # DELETE FROM ONLY ...[0m
[90m 15735    table.delete().with_hint("ONLY", dialect_name="postgresql")[0m
[90m 15736    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 133         [0m | Create a psycopg_pool connection pool
[90m 19664    from sqlalchemy.pool import NullPool[0m
[90m 19665    [0m
[1;32m 19666 -> # Create a psycopg_pool connection pool[0m
[90m 19667    my_pool = psycopg_pool.ConnectionPool([0m
[90m 19668        conninfo="postgresql://scott:tiger@localhost/test",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 134         [0m | Create an engine that uses the connection pool to get a connection
[90m 19671    )[0m
[90m 19672    [0m
[1;32m 19673 -> # Create an engine that uses the connection pool to get a connection[0m
[90m 19674    engine = create_engine([0m
[90m 19675        url="postgresql+psycopg://",  # Only need the dialect now[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 135         [0m | UPDATE..RETURNING
[90m 20771    print(result.all())[0m
[90m 20772    [0m
[1;32m 20773 -> # UPDATE..RETURNING[0m
[90m 20774    result = connection.execute([0m
[90m 20775        table.update()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 136         [0m | DELETE..RETURNING
[90m 20780    print(result.all())[0m
[90m 20781    [0m
[1;32m 20782 -> # DELETE..RETURNING[0m
[90m 20783    result = connection.execute([0m
[90m 20784        table.delete()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 137         [0m | maintain the same connection across all threads
[90m 22089    [0m
[90m 22090    [0m
[1;32m 22091 -> # maintain the same connection across all threads[0m
[90m 22092    from sqlalchemy.pool import StaticPool[0m
[90m 22093    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 138         [0m | Connection option for access tokens, as defined in msodbcsql.h
[90m 24409    from azure import identity[0m
[90m 24410    [0m
[1;32m 24411 -> # Connection option for access tokens, as defined in msodbcsql.h[0m
[90m 24412    SQL_COPT_SS_ACCESS_TOKEN = 1256[0m
[90m 24413    TOKEN_URL = "https://database.windows.net/"  # The token URL for any Azure SQL database[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 139         [0m | don't use the engine before pooling is set to False
[90m 24540    pyodbc.pooling = False[0m
[90m 24541    [0m
[1;32m 24542 -> # don't use the engine before pooling is set to False[0m
[90m 24543    engine = create_engine("mssql+pyodbc://user:pass@dsn")[0m
[90m 24544    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 140         [0m | matches a table created with CREATE TABLE "mytable"
[90m 25264    from sqlalchemy import quoted_name[0m
[90m 25265    [0m
[1;32m 25266 -> # matches a table created with CREATE TABLE "mytable"[0m
[90m 25267    Table([0m
[90m 25268        quoted_name("mytable", quote=True), metadata, autoload_with=some_engine[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 141         [0m | Uncomment to use the optional python-oracledb Thick mode.
[90m 26848    from sqlalchemy.pool import NullPool[0m
[90m 26849    [0m
[1;32m 26850 -> # Uncomment to use the optional python-oracledb Thick mode.[0m
[90m 26851    # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26852    # oracledb.init_oracle_client(<your parameters>)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 142         [0m | Review the python-oracledb doc for the appropriate parameters
[90m 26849    [0m
[90m 26850    # Uncomment to use the optional python-oracledb Thick mode.[0m
[1;32m 26851 -> # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26852    # oracledb.init_oracle_client(<your parameters>)[0m
[90m 26853    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 143         [0m | Uncomment to use the optional python-oracledb Thick mode.
[90m 26889    from sqlalchemy.pool import NullPool[0m
[90m 26890    [0m
[1;32m 26891 -> # Uncomment to use the optional python-oracledb Thick mode.[0m
[90m 26892    # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26893    # oracledb.init_oracle_client(<your parameters>)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 144         [0m | Review the python-oracledb doc for the appropriate parameters
[90m 26890    [0m
[90m 26891    # Uncomment to use the optional python-oracledb Thick mode.[0m
[1;32m 26892 -> # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26893    # oracledb.init_oracle_client(<your parameters>)[0m
[90m 26894    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 145         [0m | Uncomment to use python-oracledb Thick mode.
[90m 26925    from sqlalchemy.pool import NullPool[0m
[90m 26926    [0m
[1;32m 26927 -> # Uncomment to use python-oracledb Thick mode.[0m
[90m 26928    # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26929    # oracledb.init_oracle_client(<your parameters>)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 146         [0m | Review the python-oracledb doc for the appropriate parameters
[90m 26926    [0m
[90m 26927    # Uncomment to use python-oracledb Thick mode.[0m
[1;32m 26928 -> # Review the python-oracledb doc for the appropriate parameters[0m
[90m 26929    # oracledb.init_oracle_client(<your parameters>)[0m
[90m 26930    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 147         [0m | equivalent to:
[90m 28257    Session = scoped_session(some_factory)[0m
[90m 28258    [0m
[1;32m 28259 -> # equivalent to:[0m
[90m 28260    #[0m
[90m 28261    # session = Session()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 148         [0m | persistent objects which currently have changes detected
[90m 30014    session.new[0m
[90m 30015    [0m
[1;32m 30016 -> # persistent objects which currently have changes detected[0m
[90m 30017    # (this collection is now created on the fly each time the property is called)[0m
[90m 30018    session.dirty[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 149         [0m | dictionary of all persistent objects, keyed on their
[90m 30021    session.deleted[0m
[90m 30022    [0m
[1;32m 30023 -> # dictionary of all persistent objects, keyed on their[0m
[90m 30024    # identity key[0m
[90m 30025    session.identity_map[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 150         [0m | identity key
[90m 30022    [0m
[90m 30023    # dictionary of all persistent objects, keyed on their[0m
[1;32m 30024 -> # identity key[0m
[90m 30025    session.identity_map[0m
[90m 30026    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 151         [0m | note for a Core table, we use the sqlalchemy.Column construct,
[90m 31150    [0m
[90m 31151    [0m
[1;32m 31152 -> # note for a Core table, we use the sqlalchemy.Column construct,[0m
[90m 31153    # not sqlalchemy.orm.mapped_column[0m
[90m 31154    association_table = Table([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 152         [0m | not sqlalchemy.orm.mapped_column
[90m 31151    [0m
[90m 31152    # note for a Core table, we use the sqlalchemy.Column construct,[0m
[1;32m 31153 -> # not sqlalchemy.orm.mapped_column[0m
[90m 31154    association_table = Table([0m
[90m 31155        "association_table",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 153         [0m | automatically
[90m 31290    ```[0m
[90m 31291    # row will be deleted from the "secondary" table[0m
[1;32m 31292 -> # automatically[0m
[90m 31293    myparent.children.remove(somechild)[0m
[90m 31294    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 154         [0m | iterate through child objects via association, including association
[90m 31453    p.children.append(a)[0m
[90m 31454    [0m
[1;32m 31455 -> # iterate through child objects via association, including association[0m
[90m 31456    # attributes[0m
[90m 31457    for assoc in p.children:[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 155         [0m | attributes
[90m 31454    [0m
[90m 31455    # iterate through child objects via association, including association[0m
[1;32m 31456 -> # attributes[0m
[90m 31457    for assoc in p.children:[0m
[90m 31458        print(assoc.extra_data)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 156         [0m | redundant, will cause a duplicate INSERT on Association
[90m 31579    p1.children.append(c1)[0m
[90m 31580    [0m
[1;32m 31581 -> # redundant, will cause a duplicate INSERT on Association[0m
[90m 31582    p1.child_associations.append(Association(child=c1))[0m
[90m 31583    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 157         [0m | we create a Parent class which knows nothing about Child
[90m 31842    ```[0m
[90m 31843    # first, module A, where Child has not been created yet,[0m
[1;32m 31844 -> # we create a Parent class which knows nothing about Child[0m
[90m 31845    [0m
[90m 31846    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 158         [0m | ... later, in Module B, which is imported after module A:
[90m 31848    [0m
[90m 31849    [0m
[1;32m 31850 -> # ... later, in Module B, which is imported after module A:[0m
[90m 31851    [0m
[90m 31852    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 159         [0m | assign the User.addresses relationship as a class variable.  The
[90m 31856    from module_a import Parent[0m
[90m 31857    [0m
[1;32m 31858 -> # assign the User.addresses relationship as a class variable.  The[0m
[90m 31859    # declarative base class will intercept this and map the relationship.[0m
[90m 31860    Parent.children = relationship(Child, primaryjoin=Child.parent_id == Parent.id)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 160         [0m | declarative base class will intercept this and map the relationship.
[90m 31857    [0m
[90m 31858    # assign the User.addresses relationship as a class variable.  The[0m
[1;32m 31859 -> # declarative base class will intercept this and map the relationship.[0m
[90m 31860    Parent.children = relationship(Child, primaryjoin=Child.parent_id == Parent.id)[0m
[90m 31861    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 161         [0m | later ...
[90m 32311    [0m
[90m 32312    [0m
[1;32m 32313 -> # later ...[0m
[90m 32314    [0m
[90m 32315    # works for any kind of mapping[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 162         [0m | works for any kind of mapping
[90m 32313    # later ...[0m
[90m 32314    [0m
[1;32m 32315 -> # works for any kind of mapping[0m
[90m 32316    from sqlalchemy import inspect[0m
[90m 32317    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 163         [0m | i.e. __table__
[90m 32622    ```[0m
[90m 32623    # mapping attributes using declarative with imperative table[0m
[1;32m 32624 -> # i.e. __table__[0m
[90m 32625    [0m
[90m 32626    from sqlalchemy import Column, ForeignKey, Integer, String, Table, Text[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 164         [0m | new style Union using a pipe operator
[90m 35195    from sqlalchemy.schema import CreateTable[0m
[90m 35196    [0m
[1;32m 35197 -> # new style Union using a pipe operator[0m
[90m 35198    json_list = list[int] | list[str][0m
[90m 35199    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 165         [0m | old style Union using Union explicitly
[90m 35198    json_list = list[int] | list[str][0m
[90m 35199    [0m
[1;32m 35200 -> # old style Union using Union explicitly[0m
[90m 35201    json_scalar = Union[float, str, bool][0m
[90m 35202    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 166         [0m | construct a Table directly.  The Base.metadata collection is
[90m 36070    [0m
[90m 36071    [0m
[1;32m 36072 -> # construct a Table directly.  The Base.metadata collection is[0m
[90m 36073    # usually a good choice for MetaData but any MetaData[0m
[90m 36074    # collection may be used.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 167         [0m | usually a good choice for MetaData but any MetaData
[90m 36071    [0m
[90m 36072    # construct a Table directly.  The Base.metadata collection is[0m
[1;32m 36073 -> # usually a good choice for MetaData but any MetaData[0m
[90m 36074    # collection may be used.[0m
[90m 36075    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 168         [0m | collection may be used.
[90m 36072    # construct a Table directly.  The Base.metadata collection is[0m
[90m 36073    # usually a good choice for MetaData but any MetaData[0m
[1;32m 36074 -> # collection may be used.[0m
[90m 36075    [0m
[90m 36076    user_table = Table([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 169         [0m | construct the User class using this table.
[90m 36084    [0m
[90m 36085    [0m
[1;32m 36086 -> # construct the User class using this table.[0m
[90m 36087    class User(Base):[0m
[90m 36088        __table__ = user_table[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 170         [0m | set children to load lazily
[90m 38421    from sqlalchemy.orm import lazyload[0m
[90m 38422    [0m
[1;32m 38423 -> # set children to load lazily[0m
[90m 38424    stmt = select(Parent).options(lazyload(Parent.children))[0m
[90m 38425    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 171         [0m | set children to load eagerly with a join
[90m 38426    from sqlalchemy.orm import joinedload[0m
[90m 38427    [0m
[1;32m 38428 -> # set children to load eagerly with a join[0m
[90m 38429    stmt = select(Parent).options(joinedload(Parent.children))[0m
[90m 38430    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 172         [0m | force lazy loading for an attribute that is set to
[90m 38608    from sqlalchemy.orm import lazyload[0m
[90m 38609    [0m
[1;32m 38610 -> # force lazy loading for an attribute that is set to[0m
[90m 38611    # load some other way normally[0m
[90m 38612    stmt = select(User).options(lazyload(User.addresses))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 173         [0m | load some other way normally
[90m 38609    [0m
[90m 38610    # force lazy loading for an attribute that is set to[0m
[1;32m 38611 -> # load some other way normally[0m
[90m 38612    stmt = select(User).options(lazyload(User.addresses))[0m
[90m 38613    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 174         [0m | to load all address records ...
[90m 38988    ['spongebob', 'someaddress@foo.com'][0m
[90m 38989    # ... selectinload() emits a SELECT in order[0m
[1;32m 38990 -> # to load all address records ...[0m
[90m 38991    ```[0m
[90m 38992    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 175         [0m | construct a statement which expects the "addresses" results
[90m 39340    adalias = aliased(Address)[0m
[90m 39341    [0m
[1;32m 39342 -> # construct a statement which expects the "addresses" results[0m
[90m 39343    [0m
[90m 39344    stmt = ([0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 176         [0m | get results normally
[90m 39348    )[0m
[90m 39349    [0m
[1;32m 39350 -> # get results normally[0m
[90m 39351    r = session.scalars(stmt).unique().all()[0m
[90m 39352    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 177         [0m | Address objects
[90m 47139    )[0m
[90m 47140    # will refresh all matching User objects as well as the related[0m
[1;32m 47141 -> # Address objects[0m
[90m 47142    users = session.execute(stmt).scalars().all()[0m
[90m 47143    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 178         [0m | engine, suppose it has two tables 'user' and 'address' set up
[90m 57481    Base = automap_base()[0m
[90m 57482    [0m
[1;32m 57483 -> # engine, suppose it has two tables 'user' and 'address' set up[0m
[90m 57484    engine = create_engine("sqlite:///mydatabase.db")[0m
[90m 57485    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 179         [0m | reflect the tables
[90m 57484    engine = create_engine("sqlite:///mydatabase.db")[0m
[90m 57485    [0m
[1;32m 57486 -> # reflect the tables[0m
[90m 57487    Base.prepare(autoload_with=engine)[0m
[90m 57488    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 180         [0m | mapped classes are now created with names by default
[90m 57487    Base.prepare(autoload_with=engine)[0m
[90m 57488    [0m
[1;32m 57489 -> # mapped classes are now created with names by default[0m
[90m 57490    # matching that of the table name.[0m
[90m 57491    User = Base.classes.user[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 181         [0m | matching that of the table name.
[90m 57488    [0m
[90m 57489    # mapped classes are now created with names by default[0m
[1;32m 57490 -> # matching that of the table name.[0m
[90m 57491    User = Base.classes.user[0m
[90m 57492    Address = Base.classes.address[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 182         [0m | rudimentary relationships are produced
[90m 57494    session = Session(engine)[0m
[90m 57495    [0m
[1;32m 57496 -> # rudimentary relationships are produced[0m
[90m 57497    session.add(Address(email_address="foo@bar.com", user=User(name="foo")))[0m
[90m 57498    session.commit()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 183         [0m | collection-based relationships are by default named
[90m 57498    session.commit()[0m
[90m 57499    [0m
[1;32m 57500 -> # collection-based relationships are by default named[0m
[90m 57501    # "<classname>_collection"[0m
[90m 57502    u1 = session.query(User).first()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 184         [0m | "<classname>_collection"
[90m 57499    [0m
[90m 57500    # collection-based relationships are by default named[0m
[1;32m 57501 -> # "<classname>_collection"[0m
[90m 57502    u1 = session.query(User).first()[0m
[90m 57503    print(u1.address_collection)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 185         [0m | produce our own MetaData object
[90m 57544    engine = create_engine("sqlite:///mydatabase.db")[0m
[90m 57545    [0m
[1;32m 57546 -> # produce our own MetaData object[0m
[90m 57547    metadata = MetaData()[0m
[90m 57548    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 186         [0m | such as 'only' to limit what tables we look at...
[90m 57548    [0m
[90m 57549    # we can reflect it ourselves from a database, using options[0m
[1;32m 57550 -> # such as 'only' to limit what tables we look at...[0m
[90m 57551    metadata.reflect(engine, only=["user", "address"])[0m
[90m 57552    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 187         [0m | mapped classes are ready
[90m 57565    Base.prepare()[0m
[90m 57566    [0m
[1;32m 57567 -> # mapped classes are ready[0m
[90m 57568    User = Base.classes.user[0m
[90m 57569    Address = Base.classes.address[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 188         [0m | automap base
[90m 57694    from sqlalchemy import create_engine[0m
[90m 57695    [0m
[1;32m 57696 -> # automap base[0m
[90m 57697    Base = automap_base()[0m
[90m 57698    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 189         [0m | pre-declare User for the 'user' table
[90m 57698    [0m
[90m 57699    [0m
[1;32m 57700 -> # pre-declare User for the 'user' table[0m
[90m 57701    class User(Base):[0m
[90m 57702        __tablename__ = "user"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 190         [0m | reflect
[90m 57712    [0m
[90m 57713    [0m
[1;32m 57714 -> # reflect[0m
[90m 57715    engine = create_engine("sqlite:///mydatabase.db")[0m
[90m 57716    Base.prepare(autoload_with=engine)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 191         [0m | but User is the same as Base.classes.User now
[90m 57717    [0m
[90m 57718    # we still have Address generated from the tablename "address",[0m
[1;32m 57719 -> # but User is the same as Base.classes.User now[0m
[90m 57720    [0m
[90m 57721    Address = Base.classes.address[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 192         [0m | the backref is still there:
[90m 57724    print(u1.address_collection)[0m
[90m 57725    [0m
[1;32m 57726 -> # the backref is still there:[0m
[90m 57727    a1 = session.query(Address).first()[0m
[90m 57728    print(a1.user)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 193         [0m | automap base
[90m 57899    from sqlalchemy import create_engine[0m
[90m 57900    [0m
[1;32m 57901 -> # automap base[0m
[90m 57902    Base = automap_base()[0m
[90m 57903    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 194         [0m | produce relationships
[90m 58093    [0m
[90m 58094    [0m
[1;32m 58095 -> # produce relationships[0m
[90m 58096    Base.prepare()[0m
[90m 58097    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 195         [0m | mapping is complete, with "address_collection" and
[90m 58096    Base.prepare()[0m
[90m 58097    [0m
[1;32m 58098 -> # mapping is complete, with "address_collection" and[0m
[90m 58099    # "user" relationships[0m
[90m 58100    a1 = Address(email="u1")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 196         [0m | "user" relationships
[90m 58097    [0m
[90m 58098    # mapping is complete, with "address_collection" and[0m
[1;32m 58099 -> # "user" relationships[0m
[90m 58100    a1 = Address(email="u1")[0m
[90m 58101    a2 = Address(email="u2")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 197         [0m | run reflection
[90m 58129    [0m
[90m 58130    [0m
[1;32m 58131 -> # run reflection[0m
[90m 58132    Base.prepare(autoload_with=engine)[0m
[90m 58133    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 198         [0m | a baked query that will end up being used as a subquery
[90m 58970    bakery = baked.bakery()[0m
[90m 58971    [0m
[1;32m 58972 -> # a baked query that will end up being used as a subquery[0m
[90m 58973    my_subq = bakery(lambda s: s.query(User.id))[0m
[90m 58974    my_subq += lambda q: q.filter(User.id == Address.user_id)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 199         [0m | select a correlated subquery in the top columns list,
[90m 58974    my_subq += lambda q: q.filter(User.id == Address.user_id)[0m
[90m 58975    [0m
[1;32m 58976 -> # select a correlated subquery in the top columns list,[0m
[90m 58977    # we have the "session" argument, pass that[0m
[90m 58978    my_q = bakery(lambda s: s.query(Address.id, my_subq.to_query(s).as_scalar()))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 200         [0m | we have the "session" argument, pass that
[90m 58975    [0m
[90m 58976    # select a correlated subquery in the top columns list,[0m
[1;32m 58977 -> # we have the "session" argument, pass that[0m
[90m 58978    my_q = bakery(lambda s: s.query(Address.id, my_subq.to_query(s).as_scalar()))[0m
[90m 58979    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 201         [0m | use a correlated subquery in some of the criteria, we have
[90m 58978    my_q = bakery(lambda s: s.query(Address.id, my_subq.to_query(s).as_scalar()))[0m
[90m 58979    [0m
[1;32m 58980 -> # use a correlated subquery in some of the criteria, we have[0m
[90m 58981    # the "query" argument, pass that.[0m
[90m 58982    my_q += lambda q: q.filter(my_subq.to_query(q).exists())[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 202         [0m | the "query" argument, pass that.
[90m 58979    [0m
[90m 58980    # use a correlated subquery in some of the criteria, we have[0m
[1;32m 58981 -> # the "query" argument, pass that.[0m
[90m 58982    my_q += lambda q: q.filter(my_subq.to_query(q).exists())[0m
[90m 58983    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 203         [0m | "some_user" is an instance of the User class, which
[90m 64647    [0m
[90m 64648    [0m
[1;32m 64649 -> # "some_user" is an instance of the User class, which[0m
[90m 64650    # accepts "id" and "name" kwargs based on the mapping[0m
[90m 64651    some_user = User(id=5, name="user")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 204         [0m | accepts "id" and "name" kwargs based on the mapping
[90m 64648    [0m
[90m 64649    # "some_user" is an instance of the User class, which[0m
[1;32m 64650 -> # accepts "id" and "name" kwargs based on the mapping[0m
[90m 64651    some_user = User(id=5, name="user")[0m
[90m 64652    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 205         [0m | it has an attribute called .name that's a string
[90m 64651    some_user = User(id=5, name="user")[0m
[90m 64652    [0m
[1;32m 64653 -> # it has an attribute called .name that's a string[0m
[90m 64654    print(f"Username: {some_user.name}")[0m
[90m 64655    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 206         [0m | User class itself
[90m 64655    [0m
[90m 64656    # a select() construct makes use of SQL expressions derived from the[0m
[1;32m 64657 -> # User class itself[0m
[90m 64658    select_stmt = select(User).where(User.id.in_([3, 4, 5])).where(User.name.contains("s"))[0m
[90m 64659    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 207         [0m | will pass mypy --strict
[90m 64802    mc = MyClass(...)[0m
[90m 64803    [0m
[1;32m 64804 -> # will pass mypy --strict[0m
[90m 64805    name: str = mc.name[0m
[90m 64806    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 208         [0m | will pass mypy --strict
[90m 64812    mc = MyClass(...)[0m
[90m 64813    [0m
[1;32m 64814 -> # will pass mypy --strict[0m
[90m 64815    other_name: Optional[str] = mc.name[0m
[90m 64816    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 209         [0m | define two Table objects
[90m 70707    metadata_obj = MetaData()[0m
[90m 70708    [0m
[1;32m 70709 -> # define two Table objects[0m
[90m 70710    user_table = Table([0m
[90m 70711        "user",[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 210         [0m | define a join between them.  This
[90m 70723    )[0m
[90m 70724    [0m
[1;32m 70725 -> # define a join between them.  This[0m
[90m 70726    # takes place across the user.id and address.user_id[0m
[90m 70727    # columns.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 211         [0m | takes place across the user.id and address.user_id
[90m 70724    [0m
[90m 70725    # define a join between them.  This[0m
[1;32m 70726 -> # takes place across the user.id and address.user_id[0m
[90m 70727    # columns.[0m
[90m 70728    user_address_join = join(user_table, address_table)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 212         [0m | columns.
[90m 70725    # define a join between them.  This[0m
[90m 70726    # takes place across the user.id and address.user_id[0m
[1;32m 70727 -> # columns.[0m
[90m 70728    user_address_join = join(user_table, address_table)[0m
[90m 70729    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 213         [0m | map to it
[90m 70733    [0m
[90m 70734    [0m
[1;32m 70735 -> # map to it[0m
[90m 70736    class AddressUser(Base):[0m
[90m 70737        __table__ = user_address_join[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 214         [0m | 'fullname' is optional keyword argument
[90m 71254    [0m
[90m 71255    [0m
[1;32m 71256 -> # 'fullname' is optional keyword argument[0m
[90m 71257    u1 = User("name")[0m
[90m 71258    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 215         [0m | typing tools as well as SQLAlchemy will ignore init=False here
[90m 71335    from sqlalchemy.orm import registry[0m
[90m 71336    [0m
[1;32m 71337 -> # typing tools as well as SQLAlchemy will ignore init=False here[0m
[90m 71338    intpk = Annotated[int, mapped_column(init=False, primary_key=True)][0m
[90m 71339    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 216         [0m | typing error as well as runtime error: Argument missing for parameter "id"
[90m 71347    [0m
[90m 71348    [0m
[1;32m 71349 -> # typing error as well as runtime error: Argument missing for parameter "id"[0m
[90m 71350    u1 = User()[0m
[90m 71351    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 217         [0m | to it in the mapping multiple times.
[90m 73006    [0m
[90m 73007    # 1. set up the join() as a variable, so we can refer[0m
[1;32m 73008 -> # to it in the mapping multiple times.[0m
[90m 73009    j = join(B, D, D.b_id == B.id).join(C, C.id == D.c_id)[0m
[90m 73010    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 218         [0m | 2. Create an AliasedClass to B
[90m 73009    j = join(B, D, D.b_id == B.id).join(C, C.id == D.c_id)[0m
[90m 73010    [0m
[1;32m 73011 -> # 2. Create an AliasedClass to B[0m
[90m 73012    B_viacd = aliased(B, j, flat=True)[0m
[90m 73013    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 219         [0m | 2. configure the targets of the relationship using a before_mapper_configured
[90m 73089    [0m
[90m 73090    [0m
[1;32m 73091 -> # 2. configure the targets of the relationship using a before_mapper_configured[0m
[90m 73092    #    hook.[0m
[90m 73093    @event.listens_for(A, "before_mapper_configured")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 220         [0m | hook.
[90m 73090    [0m
[90m 73091    # 2. configure the targets of the relationship using a before_mapper_configured[0m
[1;32m 73092 -> #    hook.[0m
[90m 73093    @event.listens_for(A, "before_mapper_configured")[0m
[90m 73094    def _configure_ab_relationship(mapper, cls):[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 221         [0m | this mapping will fail, as there's no primary key
[90m 74340    [0m
[90m 74341    [0m
[1;32m 74342 -> # this mapping will fail, as there's no primary key[0m
[90m 74343    class Engineer(Person):[0m
[90m 74344        __tablename__ = "engineer"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 222         [0m | an Engine, which the Session will use for connection
[90m 75013    from sqlalchemy.orm import Session[0m
[90m 75014    [0m
[1;32m 75015 -> # an Engine, which the Session will use for connection[0m
[90m 75016    # resources[0m
[90m 75017    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 223         [0m | resources
[90m 75014    [0m
[90m 75015    # an Engine, which the Session will use for connection[0m
[1;32m 75016 -> # resources[0m
[90m 75017    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[90m 75018    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 224         [0m | create session and add objects
[90m 75017    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[90m 75018    [0m
[1;32m 75019 -> # create session and add objects[0m
[90m 75020    with Session(engine) as session:[0m
[90m 75021        session.add(some_object)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 225         [0m | an Engine, which the Session will use for connection
[90m 75111    from sqlalchemy.orm import sessionmaker[0m
[90m 75112    [0m
[1;32m 75113 -> # an Engine, which the Session will use for connection[0m
[90m 75114    # resources, typically in module scope[0m
[90m 75115    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 226         [0m | resources, typically in module scope
[90m 75112    [0m
[90m 75113    # an Engine, which the Session will use for connection[0m
[1;32m 75114 -> # resources, typically in module scope[0m
[90m 75115    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[90m 75116    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 227         [0m | engine each time
[90m 75119    [0m
[90m 75120    # we can now construct a Session() without needing to pass the[0m
[1;32m 75121 -> # engine each time[0m
[90m 75122    with Session() as session:[0m
[90m 75123        session.add(some_object)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 228         [0m | an Engine, which the Session will use for connection
[90m 75137    from sqlalchemy.orm import sessionmaker[0m
[90m 75138    [0m
[1;32m 75139 -> # an Engine, which the Session will use for connection[0m
[90m 75140    # resources[0m
[90m 75141    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 229         [0m | resources
[90m 75138    [0m
[90m 75139    # an Engine, which the Session will use for connection[0m
[1;32m 75140 -> # resources[0m
[90m 75141    engine = create_engine("postgresql+psycopg2://scott:tiger@localhost/")[0m
[90m 75142    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 230         [0m | at once
[90m 75145    [0m
[90m 75146    # we can now construct a Session() and include begin()/commit()/rollback()[0m
[1;32m 75147 -> # at once[0m
[90m 75148    with Session.begin() as session:[0m
[90m 75149        session.add(some_object)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 231         [0m | closes session automatically
[90m 75711        result = session.execute(select(User))[0m
[90m 75712    [0m
[1;32m 75713 -> # closes session automatically[0m
[90m 75714    ```[0m
[90m 75715    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 232         [0m | ...
[90m 80170    [0m
[90m 80171    [0m
[1;32m 80172 -> # ...[0m
[90m 80173    [0m
[90m 80174    del user.addresses[1][0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 233         [0m | declarative base class
[90m 84989    [0m
[90m 84990    [0m
[1;32m 84991 -> # declarative base class[0m
[90m 84992    class Base(DeclarativeBase):[0m
[90m 84993        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 234         [0m | an example mapping using the base
[90m 84994    [0m
[90m 84995    [0m
[1;32m 84996 -> # an example mapping using the base[0m
[90m 84997    class User(Base):[0m
[90m 84998        __tablename__ = "user"[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 235         [0m | filter Jack's blog posts
[90m 88674    jack = session.get(User, id)[0m
[90m 88675    [0m
[1;32m 88676 -> # filter Jack's blog posts[0m
[90m 88677    posts = jack.posts.filter(Post.headline == "this is a post")[0m
[90m 88678    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 236         [0m | apply array slices
[90m 88677    posts = jack.posts.filter(Post.headline == "this is a post")[0m
[90m 88678    [0m
[1;32m 88679 -> # apply array slices[0m
[90m 88680    posts = jack.posts[5:20][0m
[90m 88681    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 237         [0m | Executive, Technologist, Manager, Principal, Engineer, SysAdmin
[90m 89880    [0m
[90m 89881    [0m
[1;32m 89882 -> # Executive, Technologist, Manager, Principal, Engineer, SysAdmin[0m
[90m 89883    # classes from previous example would follow here unchanged[0m
[90m 89884    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 238         [0m | was an exception raised
[90m 91075        session.add(some_other_object())[0m
[90m 91076    # commits transaction at the end, or rolls back if there[0m
[1;32m 91077 -> # was an exception raised[0m
[90m 91078    ```[0m
[90m 91079    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 239         [0m | will automatically begin again
[90m 91098    session.commit()  # commits[0m
[90m 91099    [0m
[1;32m 91100 -> # will automatically begin again[0m
[90m 91101    result = session.execute(text("< some select statement >"))[0m
[90m 91102    session.add_all([more_objects, ...])[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 240         [0m | engines
[90m 91121    # expunges all objects, releases all transactions unconditionally[0m
[90m 91122    # (with rollback), releases all database connections back to their[0m
[1;32m 91123 -> # engines[0m
[90m 91124    session.close()[0m
[90m 91125    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 241         [0m | discarded
[90m 91146    [0m
[90m 91147    # remaining transactional state from the .execute() call is[0m
[1;32m 91148 -> # discarded[0m
[90m 91149    ```[0m
[90m 91150    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 242         [0m | closes the Session
[90m 91159        # commits[0m
[90m 91160    [0m
[1;32m 91161 -> # closes the Session[0m
[90m 91162    ```[0m
[90m 91163    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 243         [0m | commits u1 and u2
[90m 91187        nested.rollback()  # rolls back u3, keeps u1 and u2[0m
[90m 91188    [0m
[1;32m 91189 -> # commits u1 and u2[0m
[90m 91190    ```[0m
[90m 91191    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 244         [0m | commits automatically
[90m 91396        savepoint.commit()  # or rollback[0m
[90m 91397    [0m
[1;32m 91398 -> # commits automatically[0m
[90m 91399    ```[0m
[90m 91400    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 245         [0m | bind User operations to engine 1, Account operations to engine 2
[90m 91479    Session = sessionmaker(twophase=True)[0m
[90m 91480    [0m
[1;32m 91481 -> # bind User operations to engine 1, Account operations to engine 2[0m
[90m 91482    Session.configure(binds={User: engine1, Account: engine2})[0m
[90m 91483    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 246         [0m | .... work with accounts and users
[90m 91484    session = Session()[0m
[90m 91485    [0m
[1;32m 91486 -> # .... work with accounts and users[0m
[90m 91487    [0m
[90m 91488    # commit.  session will issue a flush to all DBs, and a prepare step to all DBs,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 247         [0m | commit.  session will issue a flush to all DBs, and a prepare step to all DBs,
[90m 91486    # .... work with accounts and users[0m
[90m 91487    [0m
[1;32m 91488 -> # commit.  session will issue a flush to all DBs, and a prepare step to all DBs,[0m
[90m 91489    # before committing both transactions[0m
[90m 91490    session.commit()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 248         [0m | before committing both transactions
[90m 91487    [0m
[90m 91488    # commit.  session will issue a flush to all DBs, and a prepare step to all DBs,[0m
[1;32m 91489 -> # before committing both transactions[0m
[90m 91490    session.commit()[0m
[90m 91491    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 249         [0m | closes connection
[90m 91581        some_other_objects = session.execute(text("<statement>"))[0m
[90m 91582    [0m
[1;32m 91583 -> # closes connection[0m
[90m 91584    ```[0m
[90m 91585    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 250         [0m | will normally use plain_engine
[90m 91597    autocommit_engine = plain_engine.execution_options(isolation_level="AUTOCOMMIT")[0m
[90m 91598    [0m
[1;32m 91599 -> # will normally use plain_engine[0m
[90m 91600    Session = sessionmaker(plain_engine)[0m
[90m 91601    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 251         [0m | make a specific Session that will use the "autocommit" engine
[90m 91600    Session = sessionmaker(plain_engine)[0m
[90m 91601    [0m
[1;32m 91602 -> # make a specific Session that will use the "autocommit" engine[0m
[90m 91603    with Session(bind=autocommit_engine) as session:[0m
[90m 91604        # work with session[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 252         [0m | assume session just constructed
[90m 91633    from sqlalchemy.orm import Session[0m
[90m 91634    [0m
[1;32m 91635 -> # assume session just constructed[0m
[90m 91636    sess = Session(bind=engine)[0m
[90m 91637    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 253         [0m | database transaction.
[90m 91638    # call connection() with options before any other operations proceed.[0m
[90m 91639    # this will procure a new connection from the bound engine and begin a real[0m
[1;32m 91640 -> # database transaction.[0m
[90m 91641    sess.connection(execution_options={"isolation_level": "SERIALIZABLE"})[0m
[90m 91642    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 254         [0m | ... work with session in SERIALIZABLE isolation level...
[90m 91641    sess.connection(execution_options={"isolation_level": "SERIALIZABLE"})[0m
[90m 91642    [0m
[1;32m 91643 -> # ... work with session in SERIALIZABLE isolation level...[0m
[90m 91644    [0m
[90m 91645    # commit transaction.  the connection is released[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 255         [0m | commit transaction.  the connection is released
[90m 91643    # ... work with session in SERIALIZABLE isolation level...[0m
[90m 91644    [0m
[1;32m 91645 -> # commit transaction.  the connection is released[0m
[90m 91646    # and reverted to its previous isolation level.[0m
[90m 91647    sess.commit()[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 256         [0m | and reverted to its previous isolation level.
[90m 91644    [0m
[90m 91645    # commit transaction.  the connection is released[0m
[1;32m 91646 -> # and reverted to its previous isolation level.[0m
[90m 91647    sess.commit()[0m
[90m 91648    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 257         [0m | which will proceed with the previous default isolation level unless
[90m 91648    [0m
[90m 91649    # subsequent to commit() above, a new transaction may be begun if desired,[0m
[1;32m 91650 -> # which will proceed with the previous default isolation level unless[0m
[90m 91651    # it is set again.[0m
[90m 91652    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 258         [0m | it is set again.
[90m 91649    # subsequent to commit() above, a new transaction may be begun if desired,[0m
[90m 91650    # which will proceed with the previous default isolation level unless[0m
[1;32m 91651 -> # it is set again.[0m
[90m 91652    ```[0m
[90m 91653    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 259         [0m | outside the block, the transaction has been committed.  the connection is
[90m 91677        # ... work with session in SERIALIZABLE isolation level...[0m
[90m 91678    [0m
[1;32m 91679 -> # outside the block, the transaction has been committed.  the connection is[0m
[90m 91680    # released and reverted to its previous isolation level.[0m
[90m 91681    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 260         [0m | released and reverted to its previous isolation level.
[90m 91678    [0m
[90m 91679    # outside the block, the transaction has been committed.  the connection is[0m
[1;32m 91680 -> # released and reverted to its previous isolation level.[0m
[90m 91681    ```[0m
[90m 91682    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 261         [0m | global application scope.  create Session class, engine
[90m 91717    from unittest import TestCase[0m
[90m 91718    [0m
[1;32m 91719 -> # global application scope.  create Session class, engine[0m
[90m 91720    Session = sessionmaker()[0m
[90m 91721    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 262         [0m | declarative base class
[90m 91865    [0m
[90m 91866    [0m
[1;32m 91867 -> # declarative base class[0m
[90m 91868    class Base(DeclarativeBase):[0m
[90m 91869        pass[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 263         [0m | declarative base class
[90m 91881    [0m
[90m 91882    [0m
[1;32m 91883 -> # declarative base class[0m
[90m 91884    class Base(DeclarativeBase):[0m
[90m 91885        registry = reg[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 264         [0m | Init with name of file, default number of items
[90m 92754    [0m
[90m 92755    [0m
[1;32m 92756 -> # Init with name of file, default number of items[0m
[90m 92757    Profiler.init("test_loads", 1000)[0m
[90m 92758    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 265         [0m | specify that each Person's "addresses" collection comes from
[90m 93140    stmt = select(Person).options(FromCache("default"))[0m
[90m 93141    [0m
[1;32m 93142 -> # specify that each Person's "addresses" collection comes from[0m
[90m 93143    # cache too[0m
[90m 93144    stmt = stmt.options(RelationshipCache(Person.addresses, "default"))[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 266         [0m | cache too
[90m 93141    [0m
[90m 93142    # specify that each Person's "addresses" collection comes from[0m
[1;32m 93143 -> # cache too[0m
[90m 93144    stmt = stmt.options(RelationshipCache(Person.addresses, "default"))[0m
[90m 93145    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 267         [0m | execute and results
[90m 93144    stmt = stmt.options(RelationshipCache(Person.addresses, "default"))[0m
[90m 93145    [0m
[1;32m 93146 -> # execute and results[0m
[90m 93147    result = session.execute(stmt)[0m
[90m 93148    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 268         [0m | set 'value' attribute to a SQL expression adding one
[90m 97493    someobject = session.get(SomeClass, 5)[0m
[90m 97494    [0m
[1;32m 97495 -> # set 'value' attribute to a SQL expression adding one[0m
[90m 97496    someobject.value = SomeClass.value + 1[0m
[90m 97497    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 269         [0m | issues "UPDATE some_table SET value=value+1"
[90m 97496    someobject.value = SomeClass.value + 1[0m
[90m 97497    [0m
[1;32m 97498 -> # issues "UPDATE some_table SET value=value+1"[0m
[90m 97499    session.commit()[0m
[90m 97500    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 270         [0m | execute a string statement
[90m 97557    session = Session()[0m
[90m 97558    [0m
[1;32m 97559 -> # execute a string statement[0m
[90m 97560    result = session.execute(text("select * from table where id=:id"), {"id": 7})[0m
[90m 97561    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 271         [0m | execute a SQL expression construct
[90m 97560    result = session.execute(text("select * from table where id=:id"), {"id": 7})[0m
[90m 97561    [0m
[1;32m 97562 -> # execute a SQL expression construct[0m
[90m 97563    result = session.execute(select(mytable).where(mytable.c.id == 7))[0m
[90m 97564    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 272         [0m | need to specify mapper or class when executing
[90m 97588    session = Session()[0m
[90m 97589    [0m
[1;32m 97590 -> # need to specify mapper or class when executing[0m
[90m 97591    result = session.execute([0m
[90m 97592        text("select * from table where id=:id"),[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 273         [0m | database will still persist this as the value 'default'
[90m 97661    session.commit()  # INSERT with the 'data' column explicitly set to None;[0m
[90m 97662    # the ORM still omits it from the statement and the[0m
[1;32m 97663 -> # database will still persist this as the value 'default'[0m
[90m 97664    ```[0m
[90m 97665    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 274         [0m | and server-side defaults, and the database will
[90m 97681    session.commit()  # INSERT with the 'data' column explicitly set as null();[0m
[90m 97682    # the ORM uses this directly, bypassing all client-[0m
[1;32m 97683 -> # and server-side defaults, and the database will[0m
[90m 97684    # persist this as the NULL value[0m
[90m 97685    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 275         [0m | persist this as the NULL value
[90m 97682    # the ORM uses this directly, bypassing all client-[0m
[90m 97683    # and server-side defaults, and the database will[0m
[1;32m 97684 -> # persist this as the NULL value[0m
[90m 97685    ```[0m
[90m 97686    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 276         [0m | and server-side defaults, and the database will
[90m 97710    session.commit()  # INSERT with the 'data' column explicitly set to None;[0m
[90m 97711    # the ORM uses this directly, bypassing all client-[0m
[1;32m 97712 -> # and server-side defaults, and the database will[0m
[90m 97713    # persist this as the NULL value[0m
[90m 97714    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 277         [0m | persist this as the NULL value
[90m 97711    # the ORM uses this directly, bypassing all client-[0m
[90m 97712    # and server-side defaults, and the database will[0m
[1;32m 97713 -> # persist this as the NULL value[0m
[90m 97714    ```[0m
[90m 97715    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 278         [0m | bind User operations to engine 1, Account operations to engine 2
[90m 98157    Session = sessionmaker()[0m
[90m 98158    [0m
[1;32m 98159 -> # bind User operations to engine 1, Account operations to engine 2[0m
[90m 98160    Session.configure(binds={User: engine1, Account: engine2})[0m
[90m 98161    [0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 279         [0m | all User/Address operations will be on engine 1, all
[90m 98206    Session = sessionmaker()[0m
[90m 98207    [0m
[1;32m 98208 -> # all User/Address operations will be on engine 1, all[0m
[90m 98209    # Game operations will be on engine 2[0m
[90m 98210    Session.configure(binds={BaseA: engine1, BaseB: engine2})[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 280         [0m | Game operations will be on engine 2
[90m 98207    [0m
[90m 98208    # all User/Address operations will be on engine 1, all[0m
[1;32m 98209 -> # Game operations will be on engine 2[0m
[90m 98210    Session.configure(binds={BaseA: engine1, BaseB: engine2})[0m
[90m 98211    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 281         [0m | All modules for which code is available
[90m 99395    [Home](../index.html)[0m
[90m 99396    [0m
[1;32m 99397 -> # All modules for which code is available[0m
[90m 99398    [0m
[90m 99399    * [examples.adjacency\_list.adjacency\_list](examples/adjacency_list/adjacency_list.html)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 282         [0m | Source code for examples.space\_invaders.space\_invaders
[90m 99481    [Home](../../../index.html)[0m
[90m 99482    [0m
[1;32m 99483 -> # Source code for examples.space\_invaders.space\_invaders[0m
[90m 99484    [0m
[90m 99485    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 283         [0m | Source code for examples.performance.single\_inserts
[90m100305    [Home](../../../index.html)[0m
[90m100306    [0m
[1;32m100307 -> # Source code for examples.performance.single\_inserts[0m
[90m100308    [0m
[90m100309    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 284         [0m | Source code for examples.performance.\_\_main\_\_
[90m100524    [Home](../../../index.html)[0m
[90m100525    [0m
[1;32m100526 -> # Source code for examples.performance.\_\_main\_\_[0m
[90m100527    [0m
[90m100528    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 285         [0m | Source code for examples.performance.bulk\_updates
[90m100567    [Home](../../../index.html)[0m
[90m100568    [0m
[1;32m100569 -> # Source code for examples.performance.bulk\_updates[0m
[90m100570    [0m
[90m100571    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 286         [0m | Source code for examples.performance.short\_selects
[90m100669    [Home](../../../index.html)[0m
[90m100670    [0m
[1;32m100671 -> # Source code for examples.performance.short\_selects[0m
[90m100672    [0m
[90m100673    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 287         [0m | Source code for examples.performance.large\_resultsets
[90m100883    [Home](../../../index.html)[0m
[90m100884    [0m
[1;32m100885 -> # Source code for examples.performance.large\_resultsets[0m
[90m100886    [0m
[90m100887    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 288         [0m | Source code for examples.performance.bulk\_inserts
[90m101131    [Home](../../../index.html)[0m
[90m101132    [0m
[1;32m101133 -> # Source code for examples.performance.bulk\_inserts[0m
[90m101134    [0m
[90m101135    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 289         [0m | Source code for examples.versioned\_rows.versioned\_rows
[90m101334    [Home](../../../index.html)[0m
[90m101335    [0m
[1;32m101336 -> # Source code for examples.versioned\_rows.versioned\_rows[0m
[90m101337    [0m
[90m101338    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 290         [0m | Source code for examples.versioned\_rows.versioned\_update\_old\_row
[90m101490    [Home](../../../index.html)[0m
[90m101491    [0m
[1;32m101492 -> # Source code for examples.versioned\_rows.versioned\_update\_old\_row[0m
[90m101493    [0m
[90m101494    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 291         [0m | Source code for examples.versioned\_rows.versioned\_map
[90m101825    [Home](../../../index.html)[0m
[90m101826    [0m
[1;32m101827 -> # Source code for examples.versioned\_rows.versioned\_map[0m
[90m101828    [0m
[90m101829    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 292         [0m | Source code for examples.versioned\_rows.versioned\_rows\_w\_versionid
[90m102161    [Home](../../../index.html)[0m
[90m102162    [0m
[1;32m102163 -> # Source code for examples.versioned\_rows.versioned\_rows\_w\_versionid[0m
[90m102164    [0m
[90m102165    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 293         [0m | Source code for examples.extending\_query.temporal\_range
[90m102368    [Home](../../../index.html)[0m
[90m102369    [0m
[1;32m102370 -> # Source code for examples.extending\_query.temporal\_range[0m
[90m102371    [0m
[90m102372    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 294         [0m | Source code for examples.extending\_query.filter\_public
[90m102544    [Home](../../../index.html)[0m
[90m102545    [0m
[1;32m102546 -> # Source code for examples.extending\_query.filter\_public[0m
[90m102547    [0m
[90m102548    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 295         [0m | Source code for examples.versioned\_history.history\_meta
[90m102782    [Home](../../../index.html)[0m
[90m102783    [0m
[1;32m102784 -> # Source code for examples.versioned\_history.history\_meta[0m
[90m102785    [0m
[90m102786    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 296         [0m | Source code for examples.versioned\_history.test\_versioning
[90m103167    [Home](../../../index.html)[0m
[90m103168    [0m
[1;32m103169 -> # Source code for examples.versioned\_history.test\_versioning[0m
[90m103170    [0m
[90m103171    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 297         [0m | Source code for examples.inheritance.joined
[90m104178    [Home](../../../index.html)[0m
[90m104179    [0m
[1;32m104180 -> # Source code for examples.inheritance.joined[0m
[90m104181    [0m
[90m104182    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 298         [0m | Source code for examples.inheritance.concrete
[90m104380    [Home](../../../index.html)[0m
[90m104381    [0m
[1;32m104382 -> # Source code for examples.inheritance.concrete[0m
[90m104383    [0m
[90m104384    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 299         [0m | Source code for examples.inheritance.single
[90m104585    [Home](../../../index.html)[0m
[90m104586    [0m
[1;32m104587 -> # Source code for examples.inheritance.single[0m
[90m104588    [0m
[90m104589    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 300         [0m | Source code for examples.dynamic\_dict.dynamic\_dict
[90m104803    [Home](../../../index.html)[0m
[90m104804    [0m
[1;32m104805 -> # Source code for examples.dynamic\_dict.dynamic\_dict[0m
[90m104806    [0m
[90m104807    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 301         [0m | Source code for examples.dogpile\_caching.caching\_query
[90m104937    [Home](../../../index.html)[0m
[90m104938    [0m
[1;32m104939 -> # Source code for examples.dogpile\_caching.caching\_query[0m
[90m104940    [0m
[90m104941    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 302         [0m | Source code for examples.dogpile\_caching.advanced
[90m105187    [Home](../../../index.html)[0m
[90m105188    [0m
[1;32m105189 -> # Source code for examples.dogpile\_caching.advanced[0m
[90m105190    [0m
[90m105191    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 303         [0m | Source code for examples.dogpile\_caching.helloworld
[90m105315    [Home](../../../index.html)[0m
[90m105316    [0m
[1;32m105317 -> # Source code for examples.dogpile\_caching.helloworld[0m
[90m105318    [0m
[90m105319    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 304         [0m | Source code for examples.dogpile\_caching.local\_session\_caching
[90m105419    [Home](../../../index.html)[0m
[90m105420    [0m
[1;32m105421 -> # Source code for examples.dogpile\_caching.local\_session\_caching[0m
[90m105422    [0m
[90m105423    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 305         [0m | Source code for examples.dogpile\_caching.environment
[90m105564    [Home](../../../index.html)[0m
[90m105565    [0m
[1;32m105566 -> # Source code for examples.dogpile\_caching.environment[0m
[90m105567    [0m
[90m105568    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 306         [0m | Source code for examples.dogpile\_caching.fixture\_data
[90m105684    [Home](../../../index.html)[0m
[90m105685    [0m
[1;32m105686 -> # Source code for examples.dogpile\_caching.fixture\_data[0m
[90m105687    [0m
[90m105688    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 307         [0m | Source code for examples.dogpile\_caching.model
[90m105785    [Home](../../../index.html)[0m
[90m105786    [0m
[1;32m105787 -> # Source code for examples.dogpile\_caching.model[0m
[90m105788    [0m
[90m105789    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 308         [0m | Source code for examples.dogpile\_caching.relationship\_caching
[90m105938    [Home](../../../index.html)[0m
[90m105939    [0m
[1;32m105940 -> # Source code for examples.dogpile\_caching.relationship\_caching[0m
[90m105941    [0m
[90m105942    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 309         [0m | Source code for examples.materialized\_paths.materialized\_paths
[90m106010    [Home](../../../index.html)[0m
[90m106011    [0m
[1;32m106012 -> # Source code for examples.materialized\_paths.materialized\_paths[0m
[90m106013    [0m
[90m106014    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 310         [0m | Source code for examples.association.dict\_of\_sets\_with\_default
[90m106199    [Home](../../../index.html)[0m
[90m106200    [0m
[1;32m106201 -> # Source code for examples.association.dict\_of\_sets\_with\_default[0m
[90m106202    [0m
[90m106203    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 311         [0m | Source code for examples.association.proxied\_association
[90m106339    [Home](../../../index.html)[0m
[90m106340    [0m
[1;32m106341 -> # Source code for examples.association.proxied\_association[0m
[90m106342    [0m
[90m106343    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 312         [0m | Source code for examples.association.basic\_association
[90m106506    [Home](../../../index.html)[0m
[90m106507    [0m
[1;32m106508 -> # Source code for examples.association.basic\_association[0m
[90m106509    [0m
[90m106510    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 313         [0m | Source code for examples.sharding.separate\_schema\_translates
[90m106667    [Home](../../../index.html)[0m
[90m106668    [0m
[1;32m106669 -> # Source code for examples.sharding.separate\_schema\_translates[0m
[90m106670    [0m
[90m106671    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 314         [0m | Source code for examples.sharding.asyncio
[90m106958    [Home](../../../index.html)[0m
[90m106959    [0m
[1;32m106960 -> # Source code for examples.sharding.asyncio[0m
[90m106961    [0m
[90m106962    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 315         [0m | Source code for examples.sharding.separate\_tables
[90m107345    [Home](../../../index.html)[0m
[90m107346    [0m
[1;32m107347 -> # Source code for examples.sharding.separate\_tables[0m
[90m107348    [0m
[90m107349    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 316         [0m | Source code for examples.sharding.separate\_databases
[90m107719    [Home](../../../index.html)[0m
[90m107720    [0m
[1;32m107721 -> # Source code for examples.sharding.separate\_databases[0m
[90m107722    [0m
[90m107723    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 317         [0m | Source code for examples.generic\_associations.table\_per\_related
[90m108081    [Home](../../../index.html)[0m
[90m108082    [0m
[1;32m108083 -> # Source code for examples.generic\_associations.table\_per\_related[0m
[90m108084    [0m
[90m108085    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 318         [0m | Source code for examples.generic\_associations.table\_per\_association
[90m108248    [Home](../../../index.html)[0m
[90m108249    [0m
[1;32m108250 -> # Source code for examples.generic\_associations.table\_per\_association[0m
[90m108251    [0m
[90m108252    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 319         [0m | Source code for examples.generic\_associations.discriminator\_on\_association
[90m108404    [Home](../../../index.html)[0m
[90m108405    [0m
[1;32m108406 -> # Source code for examples.generic\_associations.discriminator\_on\_association[0m
[90m108407    [0m
[90m108408    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 320         [0m | Source code for examples.generic\_associations.generic\_fk
[90m108600    [Home](../../../index.html)[0m
[90m108601    [0m
[1;32m108602 -> # Source code for examples.generic\_associations.generic\_fk[0m
[90m108603    [0m
[90m108604    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 321         [0m | Source code for examples.custom\_attributes.active\_column\_defaults
[90m108789    [Home](../../../index.html)[0m
[90m108790    [0m
[1;32m108791 -> # Source code for examples.custom\_attributes.active\_column\_defaults[0m
[90m108792    [0m
[90m108793    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 322         [0m | Source code for examples.custom\_attributes.listen\_for\_events
[90m108940    [Home](../../../index.html)[0m
[90m108941    [0m
[1;32m108942 -> # Source code for examples.custom\_attributes.listen\_for\_events[0m
[90m108943    [0m
[90m108944    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 323         [0m | Source code for examples.custom\_attributes.custom\_management
[90m109045    [Home](../../../index.html)[0m
[90m109046    [0m
[1;32m109047 -> # Source code for examples.custom\_attributes.custom\_management[0m
[90m109048    [0m
[90m109049    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 324         [0m | Source code for examples.vertical.dictlike-polymorphic
[90m109209    [Home](../../../index.html)[0m
[90m109210    [0m
[1;32m109211 -> # Source code for examples.vertical.dictlike-polymorphic[0m
[90m109212    [0m
[90m109213    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 325         [0m | Source code for examples.vertical.dictlike
[90m109491    [Home](../../../index.html)[0m
[90m109492    [0m
[1;32m109493 -> # Source code for examples.vertical.dictlike[0m
[90m109494    [0m
[90m109495    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 326         [0m | Source code for examples.graphs.directed\_graph
[90m109706    [Home](../../../index.html)[0m
[90m109707    [0m
[1;32m109708 -> # Source code for examples.graphs.directed\_graph[0m
[90m109709    [0m
[90m109710    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 327         [0m | Source code for examples.nested\_sets.nested\_sets
[90m109821    [Home](../../../index.html)[0m
[90m109822    [0m
[1;32m109823 -> # Source code for examples.nested\_sets.nested\_sets[0m
[90m109824    [0m
[90m109825    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 328         [0m | Source code for examples.adjacency\_list.adjacency\_list
[90m109990    [Home](../../../index.html)[0m
[90m109991    [0m
[1;32m109992 -> # Source code for examples.adjacency\_list.adjacency\_list[0m
[90m109993    [0m
[90m109994    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 329         [0m | Source code for examples.asyncio.gather\_orm\_statements
[90m110143    [Home](../../../index.html)[0m
[90m110144    [0m
[1;32m110145 -> # Source code for examples.asyncio.gather\_orm\_statements[0m
[90m110146    [0m
[90m110147    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 330         [0m | Source code for examples.asyncio.greenlet\_orm
[90m110289    [Home](../../../index.html)[0m
[90m110290    [0m
[1;32m110291 -> # Source code for examples.asyncio.greenlet\_orm[0m
[90m110292    [0m
[90m110293    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 331         [0m | Source code for examples.asyncio.async\_orm\_writeonly
[90m110421    [Home](../../../index.html)[0m
[90m110422    [0m
[1;32m110423 -> # Source code for examples.asyncio.async\_orm\_writeonly[0m
[90m110424    [0m
[90m110425    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 332         [0m | Source code for examples.asyncio.basic
[90m110563    [Home](../../../index.html)[0m
[90m110564    [0m
[1;32m110565 -> # Source code for examples.asyncio.basic[0m
[90m110566    [0m
[90m110567    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 333         [0m | Source code for examples.asyncio.async\_orm
[90m110668    [Home](../../../index.html)[0m
[90m110669    [0m
[1;32m110670 -> # Source code for examples.asyncio.async\_orm[0m
[90m110671    [0m
[90m110672    ```[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 334         [0m | MySQL and MariaDB
[90m111096        * [Connecting](#dialect-mysql-pyodbc-connect)[0m
[90m111097    [0m
[1;32m111098 -> # MySQL and MariaDB[Â¶](#module-sqlalchemy.dialects.mysql.base "Link to this heading")[0m
[90m111099    [0m
[90m111100    Support for the MySQL / MariaDB database.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 335         [0m | PostgreSQL
[90m114122        * [Connecting](#dialect-postgresql-psycopg2cffi-connect)[0m
[90m114123    [0m
[1;32m114124 -> # PostgreSQL[Â¶](#module-sqlalchemy.dialects.postgresql.base "Link to this heading")[0m
[90m114125    [0m
[90m114126    Support for the PostgreSQL database.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 336         [0m | Dialects
[90m119504      - [External Dialects](#external-dialects)[0m
[90m119505    [0m
[1;32m119506 -> # Dialects[Â¶](#dialects "Link to this heading")[0m
[90m119507    [0m
[90m119508    The **dialect** is the system SQLAlchemy uses to communicate with various types of [DBAPI](../glossary.html#term-DBAPI) implementations and databases.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 337         [0m | SQLite
[90m119789        * [Pooling Behavior](#id8)[0m
[90m119790    [0m
[1;32m119791 -> # SQLite[Â¶](#module-sqlalchemy.dialects.sqlite.base "Link to this heading")[0m
[90m119792    [0m
[90m119793    Support for the SQLite database.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 338         [0m | Microsoft SQL Server
[90m121928        * [Connecting](#dialect-mssql-aioodbc-connect)[0m
[90m121929    [0m
[1;32m121930 -> # Microsoft SQL Server[Â¶](#module-sqlalchemy.dialects.mssql.base "Link to this heading")[0m
[90m121931    [0m
[90m121932    Support for the Microsoft SQL Server database.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 339         [0m | Oracle
[90m124365        * [Precision Numerics](#cx-oracle-numeric)[0m
[90m124366    [0m
[1;32m124367 -> # Oracle[Â¶](#module-sqlalchemy.dialects.oracle.base "Link to this heading")[0m
[90m124368    [0m
[90m124369    Support for the Oracle Database database.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 340         [0m | ORM Mapped Class Configuration
[90m127074    + [ORM Mapped Class Configuration](#orm-mapped-class-configuration)[0m
[90m127075    [0m
[1;32m127076 -> # ORM Mapped Class Configuration[Â¶](#orm-mapped-class-configuration "Link to this heading")[0m
[90m127077    [0m
[90m127078    Detailed reference for ORM configuration, not including[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 341         [0m | Contextual/Thread-local Sessions
[90m127509        * [`QueryPropertyDescriptor`](#sqlalchemy.orm.QueryPropertyDescriptor)[0m
[90m127510    [0m
[1;32m127511 -> # Contextual/Thread-local Sessions[Â¶](#contextual-thread-local-sessions "Link to this heading")[0m
[90m127512    [0m
[90m127513    Recall from the section [When do I construct a Session, when do I commit it, and when do I close it?](session_basics.html#session-faq-whentocreate), the concept of[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 342         [0m | State Management
[90m129291        * [When to Expire or Refresh](#when-to-expire-or-refresh)[0m
[90m129292    [0m
[1;32m129293 -> # State Management[Â¶](#state-management "Link to this heading")[0m
[90m129294    [0m
[90m129295    ## Quickie Intro to Object States[Â¶](#quickie-intro-to-object-states "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 343         [0m | Basic Relationship Patterns
[90m130076        * [Using a late-evaluated form for the â€œsecondaryâ€ argument of many-to-many](#using-a-late-evaluated-form-for-the-secondary-argument-of-many-to-many)[0m
[90m130077    [0m
[1;32m130078 -> # Basic Relationship Patterns[Â¶](#basic-relationship-patterns "Link to this heading")[0m
[90m130079    [0m
[90m130080    A quick walkthrough of the basic relational patterns, which in this section are illustrated[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 344         [0m | SQL Expressions as Mapped Attributes
[90m131447      - [Query-time SQL expressions as mapped attributes](#query-time-sql-expressions-as-mapped-attributes)[0m
[90m131448    [0m
[1;32m131449 -> # SQL Expressions as Mapped Attributes[Â¶](#sql-expressions-as-mapped-attributes "Link to this heading")[0m
[90m131450    [0m
[90m131451    Attributes on a mapped class can be linked to SQL expressions, which can[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 345         [0m | Mapper Configuration with Declarative
[90m131897        * [`__table_cls__`](#table-cls)[0m
[90m131898    [0m
[1;32m131899 -> # Mapper Configuration with Declarative[Â¶](#mapper-configuration-with-declarative "Link to this heading")[0m
[90m131900    [0m
[90m131901    The section [Mapped Class Essential Components](mapping_styles.html#orm-mapper-configuration-overview) discusses the general[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 346         [0m | ORM Quick Start
[90m132529      - [Learn the above concepts in depth](#learn-the-above-concepts-in-depth)[0m
[90m132530    [0m
[1;32m132531 -> # ORM Quick Start[Â¶](#orm-quick-start "Link to this heading")[0m
[90m132532    [0m
[90m132533    For new users who want to quickly see what basic ORM use looks like, hereâ€™s an[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 347         [0m | Object Relational Tutorial
[90m133038    + [Object Relational Tutorial](#object-relational-tutorial)[0m
[90m133039    [0m
[1;32m133040 -> # Object Relational Tutorial[Â¶](#object-relational-tutorial "Link to this heading")[0m
[90m133041    [0m
[90m133042    Weâ€™ve Moved![0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 348         [0m | Composite Column Types
[90m133137        * [`composite()`](#sqlalchemy.orm.composite)[0m
[90m133138    [0m
[1;32m133139 -> # Composite Column Types[Â¶](#composite-column-types "Link to this heading")[0m
[90m133140    [0m
[90m133141    Sets of columns can be associated with a single user-defined datatype,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 349         [0m | Table Configuration with Declarative
[90m133829        * [Mapping a Subset of Table Columns](#mapping-a-subset-of-table-columns)[0m
[90m133830    [0m
[1;32m133831 -> # Table Configuration with Declarative[Â¶](#table-configuration-with-declarative "Link to this heading")[0m
[90m133832    [0m
[90m133833    As introduced at [Declarative Mapping](mapping_styles.html#orm-declarative-mapping), the Declarative style[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 350         [0m | Mapping SQL Expressions
[90m136069    + [Mapping SQL Expressions](#mapping-sql-expressions)[0m
[90m136070    [0m
[1;32m136071 -> # Mapping SQL Expressions[Â¶](#mapping-sql-expressions "Link to this heading")[0m
[90m136072    [0m
[90m136073    This page has been merged into the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 351         [0m | Setup for ORM Queryguide: DML
[90m136127    + [Setup for ORM Queryguide: DML](#setup-for-orm-queryguide-dml)[0m
[90m136128    [0m
[1;32m136129 -> # Setup for ORM Queryguide: DML[Â¶](#setup-for-orm-queryguide-dml "Link to this heading")[0m
[90m136130    [0m
[90m136131    This page illustrates the mappings and fixture data used by the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 352         [0m | Column Loading Options
[90m136340    Previous: [ORM-Enabled INSERT, UPDATE, and DELETE statements](dml.html) | Next: [Relationship Loading Techniques](relationships.html)[0m
[90m136341    [0m
[1;32m136342 -> # Column Loading Options[Â¶](#column-loading-options "Link to this heading")[0m
[90m136343    [0m
[90m136344    About this Document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 353         [0m | Relationship Loading Techniques
[90m137637    Previous: [Column Loading Options](columns.html) | Next: [ORM API Features for Querying](api.html)[0m
[90m137638    [0m
[1;32m137639 -> # Relationship Loading Techniques[Â¶](#relationship-loading-techniques "Link to this heading")[0m
[90m137640    [0m
[90m137641    About this Document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 354         [0m | ORM Querying Guide
[90m139509    + [ORM Querying Guide](#orm-querying-guide)[0m
[90m139510    [0m
[1;32m139511 -> # ORM Querying Guide[Â¶](#orm-querying-guide "Link to this heading")[0m
[90m139512    [0m
[90m139513    This section provides an overview of emitting queries with the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 355         [0m | Writing SELECT statements for ORM Mapped Classes
[90m139776    Previous: [ORM Querying Guide](index.html) | Next: [Writing SELECT statements for Inheritance Mappings](inheritance.html)[0m
[90m139777    [0m
[1;32m139778 -> # Writing SELECT statements for ORM Mapped Classes[Â¶](#writing-select-statements-for-orm-mapped-classes "Link to this heading")[0m
[90m139779    [0m
[90m139780    About this Document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 356         [0m | Setup for ORM Queryguide: Single Inheritance
[90m140968    + [Setup for ORM Queryguide: Single Inheritance](#setup-for-orm-queryguide-single-inheritance)[0m
[90m140969    [0m
[1;32m140970 -> # Setup for ORM Queryguide: Single Inheritance[Â¶](#setup-for-orm-queryguide-single-inheritance "Link to this heading")[0m
[90m140971    [0m
[90m140972    This page illustrates the mappings and fixture data used by the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 357         [0m | Legacy Query API
[90m141309    Previous: [ORM API Features for Querying](api.html)[0m
[90m141310    [0m
[1;32m141311 -> # Legacy Query API[Â¶](#legacy-query-api "Link to this heading")[0m
[90m141312    [0m
[90m141313    About the Legacy Query API[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 358         [0m | ORM-Enabled INSERT, UPDATE, and DELETE statements
[90m143464    Previous: [Writing SELECT statements for Inheritance Mappings](inheritance.html) | Next: [Column Loading Options](columns.html)[0m
[90m143465    [0m
[1;32m143466 -> # ORM-Enabled INSERT, UPDATE, and DELETE statements[Â¶](#orm-enabled-insert-update-and-delete-statements "Link to this heading")[0m
[90m143467    [0m
[90m143468    About this Document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 359         [0m | Writing SELECT statements for Inheritance Mappings
[90m144739    Previous: [Writing SELECT statements for ORM Mapped Classes](select.html) | Next: [ORM-Enabled INSERT, UPDATE, and DELETE statements](dml.html)[0m
[90m144740    [0m
[1;32m144741 -> # Writing SELECT statements for Inheritance Mappings[Â¶](#writing-select-statements-for-inheritance-mappings "Link to this heading")[0m
[90m144742    [0m
[90m144743    About this Document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 360         [0m | Setup for ORM Queryguide: SELECT
[90m145912    + [Setup for ORM Queryguide: SELECT](#setup-for-orm-queryguide-select)[0m
[90m145913    [0m
[1;32m145914 -> # Setup for ORM Queryguide: SELECT[Â¶](#setup-for-orm-queryguide-select "Link to this heading")[0m
[90m145915    [0m
[90m145916    This page illustrates the mappings and fixture data used by the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 361         [0m | Setup for ORM Queryguide: Column Loading
[90m146057    + [Setup for ORM Queryguide: Column Loading](#setup-for-orm-queryguide-column-loading)[0m
[90m146058    [0m
[1;32m146059 -> # Setup for ORM Queryguide: Column Loading[Â¶](#setup-for-orm-queryguide-column-loading "Link to this heading")[0m
[90m146060    [0m
[90m146061    This page illustrates the mappings and fixture data used by the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 362         [0m | Setup for ORM Queryguide: Joined Inheritance
[90m146207    + [Setup for ORM Queryguide: Joined Inheritance](#setup-for-orm-queryguide-joined-inheritance)[0m
[90m146208    [0m
[1;32m146209 -> # Setup for ORM Queryguide: Joined Inheritance[Â¶](#setup-for-orm-queryguide-joined-inheritance "Link to this heading")[0m
[90m146210    [0m
[90m146211    This page illustrates the mappings and fixture data used by the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 363         [0m | ORM API Features for Querying
[90m146427    Previous: [Relationship Loading Techniques](relationships.html) | Next: [Legacy Query API](query.html)[0m
[90m146428    [0m
[1;32m146429 -> # ORM API Features for Querying[Â¶](#orm-api-features-for-querying "Link to this heading")[0m
[90m146430    [0m
[90m146431    ## ORM Loader Options[Â¶](#orm-loader-options "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 364         [0m | Relationship Configuration
[90m147664    + [Relationship Configuration](#relationship-configuration)[0m
[90m147665    [0m
[1;32m147666 -> # Relationship Configuration[Â¶](#relationship-configuration "Link to this heading")[0m
[90m147667    [0m
[90m147668    This section describes the [`relationship()`](relationship_api.html#sqlalchemy.orm.relationship "sqlalchemy.orm.relationship") function and in depth discussion[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 365         [0m | SQLAlchemy ORM
[90m147828    + [SQLAlchemy ORM](#sqlalchemy-orm)[0m
[90m147829    [0m
[1;32m147830 -> # SQLAlchemy ORM[Â¶](#sqlalchemy-orm "Link to this heading")[0m
[90m147831    [0m
[90m147832    Here, the Object Relational Mapper is introduced and fully described. If you[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 366         [0m | Indexable
[90m147991          + [`index_property.__init__()`](#sqlalchemy.ext.indexable.index_property.__init__)[0m
[90m147992    [0m
[1;32m147993 -> # Indexable[Â¶](#module-sqlalchemy.ext.indexable "Link to this heading")[0m
[90m147994    [0m
[90m147995    Define attributes on ORM-mapped classes that have â€œindexâ€ attributes for[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 367         [0m | ORM Extensions
[90m148345    + [ORM Extensions](#orm-extensions)[0m
[90m148346    [0m
[1;32m148347 -> # ORM Extensions[Â¶](#orm-extensions "Link to this heading")[0m
[90m148348    [0m
[90m148349    SQLAlchemy has a variety of ORM extensions available, which add additional[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 368         [0m | Horizontal Sharding
[90m148462          + [`ShardedQuery.set_shard()`](#sqlalchemy.ext.horizontal_shard.ShardedQuery.set_shard)[0m
[90m148463    [0m
[1;32m148464 -> # Horizontal Sharding[Â¶](#module-sqlalchemy.ext.horizontal_shard "Link to this heading")[0m
[90m148465    [0m
[90m148466    Horizontal sharding support.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 369         [0m | Ordering List
[90m148780          + [`OrderingList.reorder()`](#sqlalchemy.ext.orderinglist.OrderingList.reorder)[0m
[90m148781    [0m
[1;32m148782 -> # Ordering List[Â¶](#module-sqlalchemy.ext.orderinglist "Link to this heading")[0m
[90m148783    [0m
[90m148784    A custom list that manages index/position information for contained[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 370         [0m | Hybrid Attributes
[90m149188          + [`HybridExtensionType.HYBRID_PROPERTY`](#sqlalchemy.ext.hybrid.HybridExtensionType.HYBRID_PROPERTY)[0m
[90m149189    [0m
[1;32m149190 -> # Hybrid Attributes[Â¶](#module-sqlalchemy.ext.hybrid "Link to this heading")[0m
[90m149191    [0m
[90m149192    Define attributes on ORM-mapped classes that have â€œhybridâ€ behavior.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 371         [0m | Association Proxy
[90m150904          + [`AssociationProxyExtensionType.ASSOCIATION_PROXY`](#sqlalchemy.ext.associationproxy.AssociationProxyExtensionType.ASSOCIATION_PROXY)[0m
[90m150905    [0m
[1;32m150906 -> # Association Proxy[Â¶](#module-sqlalchemy.ext.associationproxy "Link to this heading")[0m
[90m150907    [0m
[90m150908    `associationproxy` is used to create a read/write view of a[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 372         [0m | Automap
[90m156809        * [`generate_relationship()`](#sqlalchemy.ext.automap.generate_relationship)[0m
[90m156810    [0m
[1;32m156811 -> # Automap[Â¶](#module-sqlalchemy.ext.automap "Link to this heading")[0m
[90m156812    [0m
[90m156813    Define an extension to the [`sqlalchemy.ext.declarative`](declarative/api.html#module-sqlalchemy.ext.declarative "sqlalchemy.ext.declarative") system[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 373         [0m | Baked Queries
[90m157944        * [`Bakery`](#sqlalchemy.ext.baked.Bakery)[0m
[90m157945    [0m
[1;32m157946 -> # Baked Queries[Â¶](#module-sqlalchemy.ext.baked "Link to this heading")[0m
[90m157947    [0m
[90m157948    `baked` provides an alternative creational pattern for[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 374         [0m | Asynchronous I/O (asyncio)
[90m159133          + [`AsyncSessionTransaction.rollback()`](#sqlalchemy.ext.asyncio.AsyncSessionTransaction.rollback)[0m
[90m159134    [0m
[1;32m159135 -> # Asynchronous I/O (asyncio)[Â¶](#asynchronous-i-o-asyncio "Link to this heading")[0m
[90m159136    [0m
[90m159137    Support for Python asyncio. Support for Core and ORM usage is[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 375         [0m | Alternate Class Instrumentation
[90m163655        * [`ExtendedInstrumentationRegistry`](#sqlalchemy.ext.instrumentation.ExtendedInstrumentationRegistry)[0m
[90m163656    [0m
[1;32m163657 -> # Alternate Class Instrumentation[Â¶](#module-sqlalchemy.ext.instrumentation "Link to this heading")[0m
[90m163658    [0m
[90m163659    Extensible class instrumentation.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 376         [0m | Mypy / Pep-484 Support for ORM Mappings
[90m163891        * [Combining with Dataclasses or Other Type-Sensitive Attribute Systems](#combining-with-dataclasses-or-other-type-sensitive-attribute-systems)[0m
[90m163892    [0m
[1;32m163893 -> # Mypy / Pep-484 Support for ORM Mappings[Â¶](#mypy-pep-484-support-for-orm-mappings "Link to this heading")[0m
[90m163894    [0m
[90m163895    Support for [**PEP 484**](https://peps.python.org/pep-0484/) typing annotations as well as the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 377         [0m | Configuring Relationships
[90m164565      - [Configuring Many-to-Many Relationships](#configuring-many-to-many-relationships)[0m
[90m164566    [0m
[1;32m164567 -> # Configuring Relationships[Â¶](#configuring-relationships "Link to this heading")[0m
[90m164568    [0m
[90m164569    This section is covered by [Defining Mapped Properties with Declarative](../../declarative_config.html#orm-declarative-properties).[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 378         [0m | Declarative Extensions
[90m164654        * [`DeferredReflection.prepare()`](#sqlalchemy.ext.declarative.DeferredReflection.prepare)[0m
[90m164655    [0m
[1;32m164656 -> # Declarative Extensions[Â¶](#declarative-extensions "Link to this heading")[0m
[90m164657    [0m
[90m164658    Extensions specific to the [Declarative](../../mapping_styles.html#orm-declarative-mapping)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 379         [0m | Table Configuration
[90m165051      - [Using Reflection with Declarative](#using-reflection-with-declarative)[0m
[90m165052    [0m
[1;32m165053 -> # Table Configuration[Â¶](#table-configuration "Link to this heading")[0m
[90m165054    [0m
[90m165055    This section has moved; see [Declarative Table Configuration](../../declarative_tables.html#orm-declarative-table-configuration).[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 380         [0m | Declarative Inheritance
[90m165111    + [Declarative Inheritance](#declarative-inheritance)[0m
[90m165112    [0m
[1;32m165113 -> # Declarative Inheritance[Â¶](#declarative-inheritance "Link to this heading")[0m
[90m165114    [0m
[90m165115    See [Mapping Class Inheritance Hierarchies](../../inheritance.html) for this section.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 381         [0m | Basic Use
[90m165168      - [Defining SQL Expressions](#defining-sql-expressions)[0m
[90m165169    [0m
[1;32m165170 -> # Basic Use[Â¶](#basic-use "Link to this heading")[0m
[90m165171    [0m
[90m165172    This section has moved to [Declarative Mapping](../../mapping_styles.html#orm-declarative-mapping).[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 382         [0m | Declarative API
[90m165242      - [API Reference](#api-reference)[0m
[90m165243    [0m
[1;32m165244 -> # Declarative API[Â¶](#declarative-api "Link to this heading")[0m
[90m165245    [0m
[90m165246    ## API Reference[Â¶](#api-reference "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 383         [0m | Mixin and Custom Base Classes
[90m165307    + [Mixin and Custom Base Classes](#mixin-and-custom-base-classes)[0m
[90m165308    [0m
[1;32m165309 -> # Mixin and Custom Base Classes[Â¶](#mixin-and-custom-base-classes "Link to this heading")[0m
[90m165310    [0m
[90m165311    See [Composing Mapped Hierarchies with Mixins](../../declarative_mixins.html) for this section.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 384         [0m | Mutation Tracking
[90m165478          + [`MutableSet.update()`](#sqlalchemy.ext.mutable.MutableSet.update)[0m
[90m165479    [0m
[1;32m165480 -> # Mutation Tracking[Â¶](#module-sqlalchemy.ext.mutable "Link to this heading")[0m
[90m165481    [0m
[90m165482    Provide support for tracking of in-place changes to scalar values,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 385         [0m | ORM Events
[90m166508          + [`InstrumentationEvents.dispatch`](#sqlalchemy.orm.InstrumentationEvents.dispatch)[0m
[90m166509    [0m
[1;32m166510 -> # ORM Events[Â¶](#orm-events "Link to this heading")[0m
[90m166511    [0m
[90m166512    The ORM includes a wide variety of hooks available for subscription.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 386         [0m | Non-Traditional Mappings
[90m170059      - [Multiple Mappers for One Class](#multiple-mappers-for-one-class)[0m
[90m170060    [0m
[1;32m170061 -> # Non-Traditional Mappings[Â¶](#non-traditional-mappings "Link to this heading")[0m
[90m170062    [0m
[90m170063    ## Mapping a Class against Multiple Tables[Â¶](#mapping-a-class-against-multiple-tables "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 387         [0m | Integration with dataclasses and attrs
[90m170372      - [Applying ORM mappings to an existing attrs class](#applying-orm-mappings-to-an-existing-attrs-class)[0m
[90m170373    [0m
[1;32m170374 -> # Integration with dataclasses and attrs[Â¶](#integration-with-dataclasses-and-attrs "Link to this heading")[0m
[90m170375    [0m
[90m170376    SQLAlchemy as of version 2.0 features â€œnative dataclassâ€ integration where[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 388         [0m | Configuring how Relationship Joins
[90m171529        * [viewonly=True collections / attributes do not get re-queried until expired](#viewonly-true-collections-attributes-do-not-get-re-queried-until-expired)[0m
[90m171530    [0m
[1;32m171531 -> # Configuring how Relationship Joins[Â¶](#configuring-how-relationship-joins "Link to this heading")[0m
[90m171532    [0m
[90m171533    [`relationship()`](relationship_api.html#sqlalchemy.orm.relationship "sqlalchemy.orm.relationship") will normally create a join between two tables[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 389         [0m | Collection Configuration and Techniques
[90m172928    + [Collection Configuration and Techniques](#collection-configuration-and-techniques)[0m
[90m172929    [0m
[1;32m172930 -> # Collection Configuration and Techniques[Â¶](#collection-configuration-and-techniques "Link to this heading")[0m
[90m172931    [0m
[90m172932    This page has been broken into two separate pages:[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 390         [0m | Composing Mapped Hierarchies with Mixins
[90m173028      - [Creating Indexes and Constraints with Naming Conventions on Mixins](#creating-indexes-and-constraints-with-naming-conventions-on-mixins)[0m
[90m173029    [0m
[1;32m173030 -> # Composing Mapped Hierarchies with Mixins[Â¶](#composing-mapped-hierarchies-with-mixins "Link to this heading")[0m
[90m173031    [0m
[90m173032    A common need when mapping classes using the [Declarative](mapping_styles.html#orm-declarative-mapping) style is to share common functionality, such as[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 391         [0m | Adjacency List Relationships
[90m173995      - [Configuring Self-Referential Eager Loading](#configuring-self-referential-eager-loading)[0m
[90m173996    [0m
[1;32m173997 -> # Adjacency List Relationships[Â¶](#adjacency-list-relationships "Link to this heading")[0m
[90m173998    [0m
[90m173999    The **adjacency list** pattern is a common relational pattern whereby a table[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 392         [0m | Session Basics
[90m174325        * [Is the Session thread-safe? Is AsyncSession safe to share in concurrent tasks?](#is-the-session-thread-safe-is-asyncsession-safe-to-share-in-concurrent-tasks)[0m
[90m174326    [0m
[1;32m174327 -> # Session Basics[Â¶](#session-basics "Link to this heading")[0m
[90m174328    [0m
[90m174329    ## What does the Session do ?[Â¶](#what-does-the-session-do "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 393         [0m | Class Mapping API
[90m175660      - [`synonym_for()`](#sqlalchemy.orm.synonym_for)[0m
[90m175661    [0m
[1;32m175662 -> # Class Mapping API[Â¶](#class-mapping-api "Link to this heading")[0m
[90m175663    [0m
[90m175664    | Object Name | Description |[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 394         [0m | Using the Session
[90m178572    + [Using the Session](#module-sqlalchemy.orm.session)[0m
[90m178573    [0m
[1;32m178574 -> # Using the Session[Â¶](#module-sqlalchemy.orm.session "Link to this heading")[0m
[90m178575    [0m
[90m178576    The declarative base and ORM mapping functions described at[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 395         [0m | Cascades
[90m178807      - [Notes on Delete - Deleting Objects Referenced from Collections and Scalar Relationships](#notes-on-delete-deleting-objects-referenced-from-collections-and-scalar-relationships)[0m
[90m178808    [0m
[1;32m178809 -> # Cascades[Â¶](#cascades "Link to this heading")[0m
[90m178810    [0m
[90m178811    Mappers support the concept of configurable [cascade](../glossary.html#term-cascade) behavior on[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 396         [0m | Mapping Classes with Declarative
[90m179702    + [Mapping Classes with Declarative](#mapping-classes-with-declarative)[0m
[90m179703    [0m
[1;32m179704 -> # Mapping Classes with Declarative[Â¶](#mapping-classes-with-declarative "Link to this heading")[0m
[90m179705    [0m
[90m179706    The Declarative mapping style is the primary style of mapping that is used[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 397         [0m | Session API
[90m180069          + [`History.unchanged`](#sqlalchemy.orm.attributes.History.unchanged)[0m
[90m180070    [0m
[1;32m180071 -> # Session API[Â¶](#session-api "Link to this heading")[0m
[90m180072    [0m
[90m180073    ## Session and sessionmaker()[Â¶](#session-and-sessionmaker "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 398         [0m | Collection Customization and API Details
[90m182832        * [`prepare_instrumentation()`](#sqlalchemy.orm.collections.prepare_instrumentation)[0m
[90m182833    [0m
[1;32m182834 -> # Collection Customization and API Details[Â¶](#collection-customization-and-api-details "Link to this heading")[0m
[90m182835    [0m
[90m182836    The [`relationship()`](relationship_api.html#sqlalchemy.orm.relationship "sqlalchemy.orm.relationship") function defines a linkage between two classes.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 399         [0m | ORM Mapped Class Overview
[90m184291          + [Inspection of Mapped Instances](#inspection-of-mapped-instances)[0m
[90m184292    [0m
[1;32m184293 -> # ORM Mapped Class Overview[Â¶](#orm-mapped-class-overview "Link to this heading")[0m
[90m184294    [0m
[90m184295    Overview of ORM class mapping configuration.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 400         [0m | ORM Exceptions
[90m185079        * [`UnmappedInstanceError.__init__()`](#sqlalchemy.orm.exc.UnmappedInstanceError.__init__)[0m
[90m185080    [0m
[1;32m185081 -> # ORM Exceptions[Â¶](#module-sqlalchemy.orm.exc "Link to this heading")[0m
[90m185082    [0m
[90m185083    SQLAlchemy ORM exceptions.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 401         [0m | Changing Attribute Behavior
[90m185281      - [Operator Customization](#operator-customization)[0m
[90m185282    [0m
[1;32m185283 -> # Changing Attribute Behavior[Â¶](#changing-attribute-behavior "Link to this heading")[0m
[90m185284    [0m
[90m185285    This section will discuss features and techniques used to modify the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 402         [0m | Tracking queries, object and Session Changes with Events
[90m185926      - [Attribute Change Events](#attribute-change-events)[0m
[90m185927    [0m
[1;32m185928 -> # Tracking queries, object and Session Changes with Events[Â¶](#tracking-queries-object-and-session-changes-with-events "Link to this heading")[0m
[90m185929    [0m
[90m185930    SQLAlchemy features an extensive [Event Listening](../core/event.html)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 403         [0m | Events and Internals
[90m186721    + [Events and Internals](#events-and-internals)[0m
[90m186722    [0m
[1;32m186723 -> # Events and Internals[Â¶](#events-and-internals "Link to this heading")[0m
[90m186724    [0m
[90m186725    The SQLAlchemy ORM as well as Core are extended generally through the use[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 404         [0m | Constructors and Object Initialization
[90m186834    + [Constructors and Object Initialization](#constructors-and-object-initialization)[0m
[90m186835    [0m
[1;32m186836 -> # Constructors and Object Initialization[Â¶](#constructors-and-object-initialization "Link to this heading")[0m
[90m186837    [0m
[90m186838    This document has been removed. See [Mapped Class Behavior](mapping_styles.html#orm-mapped-class-behavior)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 405         [0m | Special Relationship Persistence Patterns
[90m186910        * [Simulating limited ON UPDATE CASCADE without foreign key support](#simulating-limited-on-update-cascade-without-foreign-key-support)[0m
[90m186911    [0m
[1;32m186912 -> # Special Relationship Persistence Patterns[Â¶](#special-relationship-persistence-patterns "Link to this heading")[0m
[90m186913    [0m
[90m186914    ## Rows that point to themselves / Mutually Dependent Rows[Â¶](#rows-that-point-to-themselves-mutually-dependent-rows "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 406         [0m | Working with Large Collections
[90m187359      - [Using Passive Deletes](#using-passive-deletes)[0m
[90m187360    [0m
[1;32m187361 -> # Working with Large Collections[Â¶](#working-with-large-collections "Link to this heading")[0m
[90m187362    [0m
[90m187363    The default behavior of [`relationship()`](relationship_api.html#sqlalchemy.orm.relationship "sqlalchemy.orm.relationship") is to fully load[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 407         [0m | Mapping Class Inheritance Hierarchies
[90m188562        * [Loading Concrete Inheritance Mappings](#loading-concrete-inheritance-mappings)[0m
[90m188563    [0m
[1;32m188564 -> # Mapping Class Inheritance Hierarchies[Â¶](#mapping-class-inheritance-hierarchies "Link to this heading")[0m
[90m188565    [0m
[90m188566    SQLAlchemy supports three forms of inheritance:[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 408         [0m | Configuring a Version Counter
[90m190053      - [Programmatic or Conditional Version Counters](#programmatic-or-conditional-version-counters)[0m
[90m190054    [0m
[1;32m190055 -> # Configuring a Version Counter[Â¶](#configuring-a-version-counter "Link to this heading")[0m
[90m190056    [0m
[90m190057    The [`Mapper`](mapping_api.html#sqlalchemy.orm.Mapper "sqlalchemy.orm.Mapper") supports management of a [version id column](../glossary.html#term-version-id-column), which[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 409         [0m | Transactions and Connection Management
[90m190406      - [Joining a Session into an External Transaction (such as for test suites)](#joining-a-session-into-an-external-transaction-such-as-for-test-suites)[0m
[90m190407    [0m
[1;32m190408 -> # Transactions and Connection Management[Â¶](#transactions-and-connection-management "Link to this heading")[0m
[90m190409    [0m
[90m190410    ## Managing Transactions[Â¶](#managing-transactions "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 410         [0m | Declarative Mapping Styles
[90m191218      - [Declarative Mapping using a Decorator (no declarative base)](#declarative-mapping-using-a-decorator-no-declarative-base)[0m
[90m191219    [0m
[1;32m191220 -> # Declarative Mapping Styles[Â¶](#declarative-mapping-styles "Link to this heading")[0m
[90m191221    [0m
[90m191222    As introduced at [Declarative Mapping](mapping_styles.html#orm-declarative-mapping), the **Declarative Mapping** is[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 411         [0m | Using the legacy â€˜backrefâ€™ relationship parameter
[90m191499      - [Specifying Backref Arguments](#specifying-backref-arguments)[0m
[90m191500    [0m
[1;32m191501 -> # Using the legacy â€˜backrefâ€™ relationship parameter[Â¶](#using-the-legacy-backref-relationship-parameter "Link to this heading")[0m
[90m191502    [0m
[90m191503    Note[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 412         [0m | ORM Examples
[90m191808        * [Dogpile Caching](#module-examples.dogpile_caching)[0m
[90m191809    [0m
[1;32m191810 -> # ORM Examples[Â¶](#orm-examples "Link to this heading")[0m
[90m191811    [0m
[90m191812    The SQLAlchemy distribution includes a variety of code examples illustrating[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 413         [0m | Mapping Table Columns
[90m192637    + [Mapping Table Columns](#mapping-table-columns)[0m
[90m192638    [0m
[1;32m192639 -> # Mapping Table Columns[Â¶](#mapping-table-columns "Link to this heading")[0m
[90m192640    [0m
[90m192641    This section has been integrated into the[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 414         [0m | ORM Internals
[90m193153        * [`UOWTransaction.was_already_deleted()`](#sqlalchemy.orm.UOWTransaction.was_already_deleted)[0m
[90m193154    [0m
[1;32m193155 -> # ORM Internals[Â¶](#orm-internals "Link to this heading")[0m
[90m193156    [0m
[90m193157    Key ORM constructs, not otherwise covered in other[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 415         [0m | Additional Persistence Techniques
[90m196842      - [Bulk Operations](#bulk-operations)[0m
[90m196843    [0m
[1;32m196844 -> # Additional Persistence Techniques[Â¶](#additional-persistence-techniques "Link to this heading")[0m
[90m196845    [0m
[90m196846    ## Embedding SQL Insert/Update Expressions into a Flush[Â¶](#embedding-sql-insert-update-expressions-into-a-flush "Link to this heading")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 416         [0m | Relationships API
[90m197826      - [`remote()`](#sqlalchemy.orm.remote)[0m
[90m197827    [0m
[1;32m197828 -> # Relationships API[Â¶](#relationships-api "Link to this heading")[0m
[90m197829    [0m
[90m197830    | Object Name | Description |[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 417         [0m | SQLAlchemy Documentation
[90m198758    [Home](#)[0m
[90m198759    [0m
[1;32m198760 -> # SQLAlchemy Documentation[Â¶](#sqlalchemy-documentation "Link to this heading")[0m
[90m198761    [0m
[90m198762    Getting Started[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 418         [0m | Working with ORM Related Objects
[90m198947    Previous: [Data Manipulation with the ORM](orm_data_manipulation.html) | Next: [Further Reading](further_reading.html)[0m
[90m198948    [0m
[1;32m198949 -> # Working with ORM Related Objects[Â¶](#working-with-orm-related-objects "Link to this heading")[0m
[90m198950    [0m
[90m198951    In this section, we will cover one more essential ORM concept, which is[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 419         [0m | Establishing Connectivity - the Engine
[90m199692    Previous: [SQLAlchemy Unified Tutorial](index.html) | Next: [Working with Transactions and the DBAPI](dbapi_transactions.html)[0m
[90m199693    [0m
[1;32m199694 -> # Establishing Connectivity - the Engine[Â¶](#establishing-connectivity-the-engine "Link to this heading")[0m
[90m199695    [0m
[90m199696    **Welcome ORM and Core readers alike!**[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 420         [0m | Using INSERT Statements
[90m199837    Previous: [Working with Data](data.html) | Next: [Using SELECT Statements](data_select.html)[0m
[90m199838    [0m
[1;32m199839 -> # Using INSERT Statements[Â¶](#using-insert-statements "Link to this heading")[0m
[90m199840    [0m
[90m199841    When using Core as well as when using the ORM for bulk operations, a SQL INSERT[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 421         [0m | Using UPDATE and DELETE Statements
[90m200252    Previous: [Using SELECT Statements](data_select.html) | Next: [Data Manipulation with the ORM](orm_data_manipulation.html)[0m
[90m200253    [0m
[1;32m200254 -> # Using UPDATE and DELETE Statements[Â¶](#using-update-and-delete-statements "Link to this heading")[0m
[90m200255    [0m
[90m200256    So far weâ€™ve covered [`Insert`](../core/dml.html#sqlalchemy.sql.expression.Insert "sqlalchemy.sql.expression.Insert"), so that we can get some data into[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 422         [0m | SQLAlchemy Unified Tutorial
[90m200682        * [Version Check](#version-check)[0m
[90m200683    [0m
[1;32m200684 -> # SQLAlchemy Unified Tutorial[Â¶](#sqlalchemy-unified-tutorial "Link to this heading")[0m
[90m200685    [0m
[90m200686    About this document[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 423         [0m | Further Reading
[90m200867    Previous: [Working with ORM Related Objects](orm_related_objects.html)[0m
[90m200868    [0m
[1;32m200869 -> # Further Reading[Â¶](#further-reading "Link to this heading")[0m
[90m200870    [0m
[90m200871    The sections below are the major top-level sections that discuss the concepts[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 424         [0m | Data Manipulation with the ORM
[90m200976    Previous: [Working with Data](data.html) | Next: [Working with ORM Related Objects](orm_related_objects.html)[0m
[90m200977    [0m
[1;32m200978 -> # Data Manipulation with the ORM[Â¶](#data-manipulation-with-the-orm "Link to this heading")[0m
[90m200979    [0m
[90m200980    The previous section [Working with Data](data.html#tutorial-working-with-data) remained focused on[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 425         [0m | Using SELECT Statements
[90m201684    Previous: [Using INSERT Statements](data_insert.html) | Next: [Using UPDATE and DELETE Statements](data_update.html)[0m
[90m201685    [0m
[1;32m201686 -> # Using SELECT Statements[Â¶](#using-select-statements "Link to this heading")[0m
[90m201687    [0m
[90m201688    For both Core and ORM, the [`select()`](../core/selectable.html#sqlalchemy.sql.expression.select "sqlalchemy.sql.expression.select") function generates a[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 426         [0m | Working with Database Metadata
[90m203754    Previous: [Working with Transactions and the DBAPI](dbapi_transactions.html) | Next: [Working with Data](data.html)[0m
[90m203755    [0m
[1;32m203756 -> # Working with Database Metadata[Â¶](#working-with-database-metadata "Link to this heading")[0m
[90m203757    [0m
[90m203758    With engines and SQL execution down, we are ready to begin some Alchemy.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 427         [0m | Working with Data
[90m204452    Previous: [Working with Database Metadata](metadata.html) | Next: [Using INSERT Statements](data_insert.html)[0m
[90m204453    [0m
[1;32m204454 -> # Working with Data[Â¶](#working-with-data "Link to this heading")[0m
[90m204455    [0m
[90m204456    In [Working with Transactions and the DBAPI](dbapi_transactions.html#tutorial-working-with-transactions), we learned the basics of how to[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 428         [0m | Working with Transactions and the DBAPI
[90m204565    Previous: [Establishing Connectivity - the Engine](engine.html) | Next: [Working with Database Metadata](metadata.html)[0m
[90m204566    [0m
[1;32m204567 -> # Working with Transactions and the DBAPI[Â¶](#working-with-transactions-and-the-dbapi "Link to this heading")[0m
[90m204568    [0m
[90m204569    With the [`Engine`](../core/connections.html#sqlalchemy.engine.Engine "sqlalchemy.engine.Engine") object ready to go, we can[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 429         [0m | Error Messages
[90m205178        * [This connection is on an inactive transaction. Please rollback() fully before proceeding](#this-connection-is-on-an-inactive-transaction-please-rollback-fully-before-proceeding)[0m
[90m205179    [0m
[1;32m205180 -> # Error Messages[Â¶](#error-messages "Link to this heading")[0m
[90m205181    [0m
[90m205182    This section lists descriptions and background for common error messages[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 430         [0m | Overview
[90m207130      - [1.x to 2.0 Migration](#x-to-2-0-migration)[0m
[90m207131    [0m
[1;32m207132 -> # Overview[Â¶](#overview "Link to this heading")[0m
[90m207133    [0m
[90m207134    The SQLAlchemy SQL Toolkit and Object Relational Mapper[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 431         [0m | Page Not Found!
[90m207387    [Home](index.html)[0m
[90m207388    [0m
[1;32m207389 -> # Page Not Found![0m
[90m207390    [0m
[90m207391    Can't find the page you're looking for.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 432         [0m | Table of Contents
[90m207442      - [Indices and tables](#indices-and-tables)[0m
[90m207443    [0m
[1;32m207444 -> # Table of Contents[Â¶](#table-of-contents "Link to this heading")[0m
[90m207445    [0m
[90m207446    Full table of contents. For a high level overview of all[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 433         [0m | SQL Expressions
[90m207676        * [Why are the parentheses rules like this?](#why-are-the-parentheses-rules-like-this)[0m
[90m207677    [0m
[1;32m207678 -> # SQL Expressions[Â¶](#sql-expressions "Link to this heading")[0m
[90m207679    [0m
[90m207680    * [How do I render SQL expressions as strings, possibly with bound parameters inlined?](#how-do-i-render-sql-expressions-as-strings-possibly-with-bound-parameters-inlined)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 434         [0m | Frequently Asked Questions
[90m208335    + [Frequently Asked Questions](#frequently-asked-questions)[0m
[90m208336    [0m
[1;32m208337 -> # Frequently Asked Questions[Â¶](#frequently-asked-questions "Link to this heading")[0m
[90m208338    [0m
[90m208339    The Frequently Asked Questions section is a growing collection of commonly[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 435         [0m | Performance
[90m208477      - [Iâ€™m inserting 400,000 rows with the ORM and itâ€™s really slow!](#i-m-inserting-400-000-rows-with-the-orm-and-it-s-really-slow)[0m
[90m208478    [0m
[1;32m208479 -> # Performance[Â¶](#performance "Link to this heading")[0m
[90m208480    [0m
[90m208481    * [Why is my application slow after upgrading to 1.4 and/or 2.x?](#why-is-my-application-slow-after-upgrading-to-1-4-and-or-2-x)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 436         [0m | Installation
[90m209005      - [Iâ€™m getting an error about greenlet not being installed when I try to use asyncio](#i-m-getting-an-error-about-greenlet-not-being-installed-when-i-try-to-use-asyncio)[0m
[90m209006    [0m
[1;32m209007 -> # Installation[Â¶](#installation "Link to this heading")[0m
[90m209008    [0m
[90m209009    * [Iâ€™m getting an error about greenlet not being installed when I try to use asyncio](#i-m-getting-an-error-about-greenlet-not-being-installed-when-i-try-to-use-asyncio)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 437         [0m | Sessions / Queries
[90m209121      - [Why does post\_update emit UPDATE in addition to the first UPDATE?](#why-does-post-update-emit-update-in-addition-to-the-first-update)[0m
[90m209122    [0m
[1;32m209123 -> # Sessions / Queries[Â¶](#sessions-queries "Link to this heading")[0m
[90m209124    [0m
[90m209125    * [Iâ€™m re-loading data with my Session but it isnâ€™t seeing changes that I committed elsewhere](#i-m-re-loading-data-with-my-session-but-it-isn-t-seeing-changes-that-i-committed-elsewhere)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 438         [0m | Connections / Engines
[90m209812      - [How do I use engines / connections / sessions with Python multiprocessing, or os.fork()?](#how-do-i-use-engines-connections-sessions-with-python-multiprocessing-or-os-fork)[0m
[90m209813    [0m
[1;32m209814 -> # Connections / Engines[Â¶](#connections-engines "Link to this heading")[0m
[90m209815    [0m
[90m209816    * [How do I configure logging?](#how-do-i-configure-logging)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 439         [0m | Third Party Integration Issues
[90m210398      - [SQL expression for WHERE/HAVING role expected, got True](#sql-expression-for-where-having-role-expected-got-true)[0m
[90m210399    [0m
[1;32m210400 -> # Third Party Integration Issues[Â¶](#third-party-integration-issues "Link to this heading")[0m
[90m210401    [0m
[90m210402    * [Iâ€™m getting errors related to â€œ`numpy.int64`â€, â€œ`numpy.bool_`â€, etc.](#i-m-getting-errors-related-to-numpy-int64-numpy-bool-etc)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 440         [0m | ORM Configuration
[90m210550        * [Part Two - Using Dataclasses support with MappedAsDataclass](#part-two-using-dataclasses-support-with-mappedasdataclass)[0m
[90m210551    [0m
[1;32m210552 -> # ORM Configuration[Â¶](#orm-configuration "Link to this heading")[0m
[90m210553    [0m
[90m210554    * [How do I map a table that has no primary key?](#how-do-i-map-a-table-that-has-no-primary-key)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 441         [0m | MetaData / Schema
[90m211065      - [How can I subclass Table/Column to provide certain behaviors/configurations?](#how-can-i-subclass-table-column-to-provide-certain-behaviors-configurations)[0m
[90m211066    [0m
[1;32m211067 -> # MetaData / Schema[Â¶](#metadata-schema "Link to this heading")[0m
[90m211068    [0m
[90m211069    * [My program is hanging when I say `table.drop()` / `metadata.drop_all()`](#my-program-is-hanging-when-i-say-table-drop-metadata-drop-all)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 442         [0m | Index
[90m211213    [Home](index.html)[0m
[90m211214    [0m
[1;32m211215 -> # Index[0m
[90m211216    [0m
[90m211217    [**Symbols**](#Symbols)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 443         [0m | Glossary
[90m211463    + [Glossary](#glossary)[0m
[90m211464    [0m
[1;32m211465 -> # Glossary[Â¶](#glossary "Link to this heading")[0m
[90m211466    [0m
[90m211467    1.x style[Â¶](#term-1.x-style "Link to this term")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 444         [0m | Base Type API
[90m213347        * [`Variant.with_variant()`](#sqlalchemy.types.Variant.with_variant)[0m
[90m213348    [0m
[1;32m213349 -> # Base Type API[Â¶](#base-type-api "Link to this heading")[0m
[90m213350    [0m
[90m213351    | Object Name | Description |[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 445         [0m | Engine and Connection Use
[90m214193    + [Engine and Connection Use](#engine-and-connection-use)[0m
[90m214194    [0m
[1;32m214195 -> # Engine and Connection Use[Â¶](#engine-and-connection-use "Link to this heading")[0m
[90m214196    [0m
[90m214197    * [Engine Configuration](engines.html)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 446         [0m | Custom SQL Constructs and Compilation Extension
[90m214422      - [`deregister()`](#sqlalchemy.ext.compiler.deregister)[0m
[90m214423    [0m
[1;32m214424 -> # Custom SQL Constructs and Compilation Extension[Â¶](#module-sqlalchemy.ext.compiler "Link to this heading")[0m
[90m214425    [0m
[90m214426    Provides an API for creation of custom ClauseElements and compilers.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 447         [0m | SELECT and Related Constructs
[90m215634          + [`SelectLabelStyle.LABEL_STYLE_TABLENAME_PLUS_COL`](#sqlalchemy.sql.expression.SelectLabelStyle.LABEL_STYLE_TABLENAME_PLUS_COL)[0m
[90m215635    [0m
[1;32m215636 -> # SELECT and Related Constructs[Â¶](#select-and-related-constructs "Link to this heading")[0m
[90m215637    [0m
[90m215638    The term â€œselectableâ€ refers to any object that represents database rows. In[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 448         [0m | Custom Types
[90m225067      - [Working with Custom Types and Reflection](#working-with-custom-types-and-reflection)[0m
[90m225068    [0m
[1;32m225069 -> # Custom Types[Â¶](#custom-types "Link to this heading")[0m
[90m225070    [0m
[90m225071    A variety of methods exist to redefine the behavior of existing types[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 449         [0m | SQL Expression Language Tutorial
[90m226864    + [SQL Expression Language Tutorial](#sql-expression-language-tutorial)[0m
[90m226865    [0m
[1;32m226866 -> # SQL Expression Language Tutorial[Â¶](#sql-expression-language-tutorial "Link to this heading")[0m
[90m226867    [0m
[90m226868    Weâ€™ve Moved![0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 450         [0m | SQLAlchemy Core
[90m226930    + [SQLAlchemy Core](#sqlalchemy-core)[0m
[90m226931    [0m
[1;32m226932 -> # SQLAlchemy Core[Â¶](#sqlalchemy-core "Link to this heading")[0m
[90m226933    [0m
[90m226934    The breadth of SQLAlchemyâ€™s SQL rendering engine, DBAPI integration,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 451         [0m | SQL Expression Language Foundational Constructs
[90m227094        * [`StatementLambdaElement.spoil()`](#sqlalchemy.sql.expression.StatementLambdaElement.spoil)[0m
[90m227095    [0m
[1;32m227096 -> # SQL Expression Language Foundational Constructs[Â¶](#sql-expression-language-foundational-constructs "Link to this heading")[0m
[90m227097    [0m
[90m227098    Base classes and mixins that are used to compose SQL Expression Language[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 452         [0m | Core Events
[90m227732        * [`SchemaEventTarget`](#sqlalchemy.events.SchemaEventTarget)[0m
[90m227733    [0m
[1;32m227734 -> # Core Events[Â¶](#core-events "Link to this heading")[0m
[90m227735    [0m
[90m227736    This section describes the event interfaces provided in[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 453         [0m | Connection Pooling
[90m230049        * [`_ConnectionRecord`](#sqlalchemy.pool._ConnectionRecord)[0m
[90m230050    [0m
[1;32m230051 -> # Connection Pooling[Â¶](#module-sqlalchemy.pool "Link to this heading")[0m
[90m230052    [0m
[90m230053    A connection pool is a standard technique used to maintain[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 454         [0m | Customizing DDL
[90m231793          + [`DropSchema.__init__()`](#sqlalchemy.schema.DropSchema.__init__)[0m
[90m231794    [0m
[1;32m231795 -> # Customizing DDL[Â¶](#customizing-ddl "Link to this heading")[0m
[90m231796    [0m
[90m231797    In the preceding sections weâ€™ve discussed a variety of schema constructs[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 455         [0m | SQL Datatype Objects
[90m232824    + [SQL Datatype Objects](#sql-datatype-objects)[0m
[90m232825    [0m
[1;32m232826 -> # SQL Datatype Objects[Â¶](#sql-datatype-objects "Link to this heading")[0m
[90m232827    [0m
[90m232828    * [The Type Hierarchy](type_basics.html)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 456         [0m | Expression Serializer Extension
[90m233014      - [`loads()`](#sqlalchemy.ext.serializer.loads)[0m
[90m233015    [0m
[1;32m233016 -> # Expression Serializer Extension[Â¶](#module-sqlalchemy.ext.serializer "Link to this heading")[0m
[90m233017    [0m
[90m233018    Serializer/Deserializer objects for usage with SQLAlchemy query structures,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 457         [0m | SQLAlchemy 2.0 Future (Core)
[90m233163    + [SQLAlchemy 2.0 Future (Core)](#sqlalchemy-2-0-future-core)[0m
[90m233164    [0m
[1;32m233165 -> # SQLAlchemy 2.0 Future (Core)[Â¶](#sqlalchemy-2-0-future-core "Link to this heading")[0m
[90m233166    [0m
[90m233167    Weâ€™re 2.0![0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 458         [0m | Column Elements and Expressions
[90m233774        * [`Nullable()`](#sqlalchemy.Nullable)[0m
[90m233775    [0m
[1;32m233776 -> # Column Elements and Expressions[Â¶](#column-elements-and-expressions "Link to this heading")[0m
[90m233777    [0m
[90m233778    The expression API consists of a series of classes each of which represents a[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 459         [0m | SQL Statements and Expressions API
[90m240819    + [SQL Statements and Expressions API](#module-sqlalchemy.sql.expression)[0m
[90m240820    [0m
[1;32m240821 -> # SQL Statements and Expressions API[Â¶](#module-sqlalchemy.sql.expression "Link to this heading")[0m
[90m240822    [0m
[90m240823    This section presents the API reference for the SQL Expression Language.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 460         [0m | Events
[90m241199        * [`contains()`](#sqlalchemy.event.contains)[0m
[90m241200    [0m
[1;32m241201 -> # Events[Â¶](#events "Link to this heading")[0m
[90m241202    [0m
[90m241203    SQLAlchemy includes an event API which publishes a wide variety of hooks into[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 461         [0m | Core API Basics
[90m241621    + [Core API Basics](#core-api-basics)[0m
[90m241622    [0m
[1;32m241623 -> # Core API Basics[Â¶](#core-api-basics "Link to this heading")[0m
[90m241624    [0m
[90m241625    * [Events](event.html)[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 462         [0m | Operator Reference
[90m241806      - [Parentheses and Grouping](#parentheses-and-grouping)[0m
[90m241807    [0m
[1;32m241808 -> # Operator Reference[Â¶](#operator-reference "Link to this heading")[0m
[90m241809    [0m
[90m241810    This section details usage of the operators that are available[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 463         [0m | Runtime Inspection API
[90m242652      - [Available Inspection Targets](#available-inspection-targets)[0m
[90m242653    [0m
[1;32m242654 -> # Runtime Inspection API[Â¶](#module-sqlalchemy.inspection "Link to this heading")[0m
[90m242655    [0m
[90m242656    The inspection module provides the [`inspect()`](#sqlalchemy.inspect "sqlalchemy.inspect") function,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 464         [0m | Working with Engines and Connections
[90m243274        * [`TupleResult`](#sqlalchemy.engine.TupleResult)[0m
[90m243275    [0m
[1;32m243276 -> # Working with Engines and Connections[Â¶](#module-sqlalchemy.engine "Link to this heading")[0m
[90m243277    [0m
[90m243278    This section details direct usage of the [`Engine`](#sqlalchemy.engine.Engine "sqlalchemy.engine.Engine"),[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 465         [0m | Describing Databases with MetaData
[90m250237          + [`Table.update()`](#sqlalchemy.schema.Table.update)[0m
[90m250238    [0m
[1;32m250239 -> # Describing Databases with MetaData[Â¶](#module-sqlalchemy.schema "Link to this heading")[0m
[90m250240    [0m
[90m250241    This section discusses the fundamental [`Table`](#sqlalchemy.schema.Table "sqlalchemy.schema.Table"), [`Column`](#sqlalchemy.schema.Column "sqlalchemy.schema.Column")[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 466         [0m | Core Exceptions
[90m255038        * [`UnsupportedCompilationError.__init__()`](#sqlalchemy.exc.UnsupportedCompilationError.__init__)[0m
[90m255039    [0m
[1;32m255040 -> # Core Exceptions[Â¶](#module-sqlalchemy.exc "Link to this heading")[0m
[90m255041    [0m
[90m255042    Exceptions used with SQLAlchemy.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 467         [0m | SQL and Generic Functions
[90m255642        * [`user`](#sqlalchemy.sql.functions.user)[0m
[90m255643    [0m
[1;32m255644 -> # SQL and Generic Functions[Â¶](#sql-and-generic-functions "Link to this heading")[0m
[90m255645    [0m
[90m255646    SQL functions are invoked by using the [`func`](sqlelement.html#sqlalchemy.sql.expression.func "sqlalchemy.sql.expression.func") namespace.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 468         [0m | Visitor and Traversal Utilities
[90m256914      - [`traverse_using()`](#sqlalchemy.sql.visitors.traverse_using)[0m
[90m256915    [0m
[1;32m256916 -> # Visitor and Traversal Utilities[Â¶](#visitor-and-traversal-utilities "Link to this heading")[0m
[90m256917    [0m
[90m256918    The [`sqlalchemy.sql.visitors`](#module-sqlalchemy.sql.visitors "sqlalchemy.sql.visitors") module consists of classes and functions[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 469         [0m | Insert, Updates, Deletes
[90m257522          + [`ValuesBase.values()`](#sqlalchemy.sql.expression.ValuesBase.values)[0m
[90m257523    [0m
[1;32m257524 -> # Insert, Updates, Deletes[Â¶](#insert-updates-deletes "Link to this heading")[0m
[90m257525    [0m
[90m257526    INSERT, UPDATE and DELETE statements build on a hierarchy starting[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 470         [0m | Column INSERT/UPDATE Defaults
[90m259048          + [`Identity.copy()`](#sqlalchemy.schema.Identity.copy)[0m
[90m259049    [0m
[1;32m259050 -> # Column INSERT/UPDATE Defaults[Â¶](#column-insert-update-defaults "Link to this heading")[0m
[90m259051    [0m
[90m259052    Column INSERT and UPDATE defaults refer to functions that create a **default[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 471         [0m | Schema Definition Language
[90m260330    + [Schema Definition Language](#schema-definition-language)[0m
[90m260331    [0m
[1;32m260332 -> # Schema Definition Language[Â¶](#schema-definition-language "Link to this heading")[0m
[90m260333    [0m
[90m260334    This section references SQLAlchemy **schema metadata**, a comprehensive system of describing and inspecting[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 472         [0m | Engine Configuration
[90m260636        * [Hiding Parameters](#hiding-parameters)[0m
[90m260637    [0m
[1;32m260638 -> # Engine Configuration[Â¶](#engine-configuration "Link to this heading")[0m
[90m260639    [0m
[90m260640    The [`Engine`](connections.html#sqlalchemy.engine.Engine "sqlalchemy.engine.Engine") is the starting point for any SQLAlchemy application. Itâ€™s[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 473         [0m | Reflecting Database Objects
[90m262564      - [Limitations of Reflection](#limitations-of-reflection)[0m
[90m262565    [0m
[1;32m262566 -> # Reflecting Database Objects[Â¶](#reflecting-database-objects "Link to this heading")[0m
[90m262567    [0m
[90m262568    A [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table") object can be instructed to load[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 474         [0m | Core Internals
[90m265302        * [`AdaptedConnection.run_async()`](#sqlalchemy.engine.AdaptedConnection.run_async)[0m
[90m265303    [0m
[1;32m265304 -> # Core Internals[Â¶](#core-internals "Link to this heading")[0m
[90m265305    [0m
[90m265306    Some key internal constructs are listed here.[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 475         [0m | Defining Constraints and Indexes
[90m270448          + [`Index.kwargs`](#sqlalchemy.schema.Index.kwargs)[0m
[90m270449    [0m
[1;32m270450 -> # Defining Constraints and Indexes[Â¶](#defining-constraints-and-indexes "Link to this heading")[0m
[90m270451    [0m
[90m270452    This section will discuss SQL [constraints](../glossary.html#term-constraints) and indexes. In SQLAlchemy[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 476         [0m | The Type Hierarchy
[90m273499          + [`VARCHAR.__init__()`](#sqlalchemy.types.VARCHAR.__init__)[0m
[90m273500    [0m
[1;32m273501 -> # The Type Hierarchy[Â¶](#module-sqlalchemy.types "Link to this heading")[0m
[90m273502    [0m
[90m273503    SQLAlchemy provides abstractions for most common database data types,[0m
[1;30m----------------------------------------[0m
[1;32m[OK][0m [1;31mLvl 1[0m | [90mAddr 477         [0m | Appendix: Copyright
[90m277493    + [Appendix: Copyright](#appendix-copyright)[0m
[90m277494    [0m
[1;32m277495 -> # Appendix: Copyright[Â¶](#appendix-copyright "Link to this heading")[0m
[90m277496    [0m
[90m277497    This is the MIT license: <https://www.opensource.org/licenses/mit-license.php>[0m
[1;30m----------------------------------------[0m

[1;33mAuditados: 1950 | Errores: 0[0m
